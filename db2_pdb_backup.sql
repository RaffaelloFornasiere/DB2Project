-- MySQL dump 10.13  Distrib 8.0.28, for Linux (x86_64)
--
-- Host: localhost    Database: db2_pdb
-- ------------------------------------------------------
-- Server version	8.0.28-0ubuntu0.20.04.3

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `activation_schedule`
--

DROP TABLE IF EXISTS `activation_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `activation_schedule` (
  `id` int NOT NULL AUTO_INCREMENT,
  `order_id` int NOT NULL,
  `username` varchar(255) NOT NULL,
  `activation_date` date NOT NULL,
  `deactivation_date` date NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `activation_schedule_id_uindex` (`id`),
  KEY `activation_schedule_orders_order_id_fk` (`order_id`),
  KEY `activation_schedule_users_username_fk` (`username`),
  CONSTRAINT `activation_schedule_orders_order_id_fk` FOREIGN KEY (`order_id`) REFERENCES `orders` (`order_id`) ON DELETE CASCADE,
  CONSTRAINT `activation_schedule_users_username_fk` FOREIGN KEY (`username`) REFERENCES `users` (`username`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=4218 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `activation_schedule`
--

LOCK TABLES `activation_schedule` WRITE;
/*!40000 ALTER TABLE `activation_schedule` DISABLE KEYS */;
INSERT INTO `activation_schedule` VALUES (1,1565,'admin4','2022-03-11','2022-08-11'),(2,1566,'admin4','2022-03-11','2022-08-11'),(3,1567,'admin4','2022-03-11','2022-08-11'),(9,1573,'Bubu','2022-03-11','2022-08-11'),(10,1574,'Bubu','2022-03-11','2022-08-11'),(11,1575,'semocagai','2022-03-11','2022-08-11'),(13,1577,'semocagai','2022-02-28','2022-07-28'),(23,1587,'aaaaaa','2022-03-12','2022-08-12'),(26,1591,'swanhes','2022-03-13','2022-08-13'),(27,1592,'swanhes','2022-03-13','2022-08-13'),(30,1596,'Elisa','2022-03-15','2022-08-15'),(31,1597,'Elisa','2022-03-15','2022-08-15'),(42,1609,'admin','2022-02-07','2022-07-07'),(43,1610,'admin','2022-02-07','2022-07-07'),(2905,1598,'Elisa','2022-03-15','2022-08-15'),(3889,7517,'lie@','2022-04-07','2022-09-07'),(3890,7518,'@admin.viviano.sabbatini@','2022-03-30','2026-09-30'),(3891,7520,'o.turini@','2022-04-12','2022-05-12'),(3892,7521,'@admin.geremia.bontempo@','2022-03-23','2022-04-23'),(3893,7522,'swanhes','2022-03-08','2022-04-08'),(3894,7523,'@admin.donatello.boccanegra@','2022-04-04','2026-10-04'),(3895,7524,'raffa_forna','2022-03-31','2026-09-30'),(3896,7526,'@admin.viviano.sabbatini@','2022-03-10','2022-04-10'),(3897,7527,'Elisa','2022-03-22','2026-09-22'),(3898,7528,'@admin.donatello.boccanegra@','2022-04-04','2026-10-04'),(3899,7529,'raffa','2022-04-10','2022-05-10'),(3900,7530,'ndra.vidon@','2022-04-11','2026-10-11'),(3901,7531,'ari@','2022-03-28','2026-09-28'),(3902,7532,'o.turini@','2022-03-31','2022-08-31'),(3903,7533,'nuovo','2022-03-30','2022-08-30'),(3904,7534,'@admin.edoardo.revere@','2022-04-02','2022-05-02'),(3905,7535,'ndra.vidon@','2022-03-24','2026-09-24'),(3906,7536,'@admin.luci.grip@','2022-04-08','2026-10-08'),(3907,7537,'@admin.edoardo.revere@','2022-04-07','2022-05-07'),(3908,7538,'Peribole','2022-03-22','2026-09-22'),(3909,7539,'Elisadmin','2022-04-16','2022-09-16'),(3910,7540,'Perdibole','2022-03-27','2022-08-27'),(3911,7541,'o.turini@','2022-03-26','2022-08-26'),(3912,7542,'@admin.geremia.bontempo@','2022-04-03','2026-10-03'),(3913,7543,'@admin.edoardo.revere@','2022-03-23','2022-04-23'),(3914,7544,'o.turini@','2022-03-29','2022-04-29'),(3915,7545,'swanhes','2022-04-02','2022-05-02'),(3916,7546,'@admin.amos.baudi@','2022-04-02','2022-05-02'),(3917,7548,'raffa_forna','2022-04-05','2022-09-05'),(3918,7549,'Semocagai','2022-03-12','2022-04-12'),(3919,7550,'@admin.edoardo.revere@','2022-04-05','2022-09-05'),(3920,7551,'@admin.geremia.bontempo@','2022-03-24','2022-04-24'),(3921,7552,'io.maugeri@','2022-04-04','2022-05-04'),(3922,7553,'@admin.donatello.boccanegra@','2022-03-26','2022-04-26'),(3923,7554,'ari@','2022-03-25','2026-09-25'),(3924,7555,'raffa_forna','2022-03-25','2026-09-25'),(3925,7556,'Semocagai','2022-03-22','2022-04-22'),(3926,7558,'raffa_forna','2022-03-22','2022-04-22'),(3927,7559,'@admin.m.manna@','2022-03-25','2026-09-25'),(3928,7560,'o.turini@','2022-04-13','2026-10-13'),(3929,7561,'ndra.vidon@','2022-04-08','2022-05-08'),(3930,7562,'adminlisa','2022-03-30','2022-08-30'),(3931,7563,'@admin.francesco.defranceschi@','2022-03-15','2022-04-15'),(3932,7564,'@admin.amos.baudi@','2022-04-16','2022-05-16'),(3933,7565,'@admin.luci.grip@','2022-04-11','2022-09-11'),(3934,7566,'troisio@','2022-03-21','2022-04-21'),(3935,7567,'raffa','2022-04-12','2026-10-12'),(3936,7568,'aaaaaa','2022-03-23','2026-09-23'),(3937,7569,'@admin.geremia.bontempo@','2022-04-16','2026-10-16'),(3938,7570,'Elisadmin','2022-04-02','2022-05-02'),(3939,7571,'admin','2022-03-24','2022-08-24'),(3940,7572,'Elisa','2022-03-05','2022-08-05'),(3941,7573,'@admin.edoardo.revere@','2022-04-08','2026-10-08'),(3942,7575,'troisio@','2022-03-20','2022-08-20'),(3943,7576,'@admin.viviano.sabbatini@','2022-03-29','2022-04-29'),(3944,7577,'@admin.dino.laurora@','2022-04-01','2022-05-01'),(3945,7578,'swanhes','2022-03-23','2026-09-23'),(3946,7579,'@admin.edoardo.revere@','2022-03-30','2022-04-30'),(3947,7580,'@admin.viviano.sabbatini@','2022-03-27','2026-09-27'),(3948,7581,'@admin.cleo.mottini@','2022-03-30','2022-04-30'),(3949,7582,'@admin.dino.laurora@','2022-03-17','2022-04-17'),(3950,7583,'swanhes','2022-03-11','2022-04-11'),(3951,7584,'aaaaaa','2022-04-04','2026-10-04'),(3952,7587,'Elisa','2022-04-07','2026-10-07'),(3953,7588,'@admin.cleo.mottini@','2022-03-29','2026-09-29'),(3954,7589,'nuovo','2022-04-03','2022-09-03'),(3955,7590,'Peribole','2022-03-04','2026-09-04'),(3956,7591,'Peribole','2022-03-22','2026-09-22'),(3957,7592,'io.maugeri@','2022-04-11','2026-10-11'),(3958,7593,'Elisadmin','2022-04-10','2022-05-10'),(3959,7594,'raffa','2022-04-03','2022-09-03'),(3960,7595,'o.turini@','2022-04-10','2022-05-10'),(3961,7596,'@admin.francesco.defranceschi@','2022-03-14','2022-04-14'),(3962,7597,'raffa','2022-03-17','2026-09-17'),(3963,7598,'troisio@','2022-04-05','2022-09-05'),(3964,7599,'Semocagai','2022-03-10','2022-08-10'),(3965,7600,'@admin.cleo.mottini@','2022-03-20','2022-04-20'),(3966,7601,'nuovo','2022-03-29','2022-04-29'),(3967,7602,'@admin.luci.grip@','2022-04-13','2022-09-13'),(3968,7603,'ari@','2022-04-02','2022-09-02'),(3969,7604,'aaaaaa','2022-04-10','2026-10-10'),(3970,7605,'raffa_forna','2022-04-12','2026-10-12'),(3971,7606,'admin','2022-04-05','2022-05-05'),(3972,7607,'lie@','2022-03-05','2022-04-05'),(3973,7608,'Perdibole','2022-03-29','2026-09-29'),(3974,7609,'admin4','2022-04-06','2022-09-06'),(3975,7610,'raffa_forna','2022-04-14','2022-09-14'),(3976,7611,'do.demartinis@','2022-03-29','2026-09-29'),(3977,7612,'swanhes','2022-03-24','2022-04-24'),(3978,7613,'io.maugeri@','2022-04-12','2026-10-12'),(3979,7614,'swanhes','2022-04-07','2022-09-07'),(3980,7616,'nuovo','2022-03-16','2022-04-16'),(3981,7617,'Bubu','2022-04-02','2022-09-02'),(3982,7618,'Semocagai','2022-03-26','2026-09-26'),(3983,7619,'ndra.vidon@','2022-03-29','2022-04-29'),(3984,7620,'Elisa','2022-04-13','2022-09-13'),(3985,7621,'Peribole','2022-04-06','2022-05-06'),(3986,7624,'@admin.iacopo.biggioggero@','2022-03-06','2022-04-06'),(3987,7625,'@admin.donatello.boccanegra@','2022-03-26','2022-04-26'),(3988,7627,'Semocagai','2022-03-27','2022-08-27'),(3989,7628,'ari@','2022-03-20','2026-09-20'),(3990,7629,'aaaaaa','2022-04-06','2022-09-06'),(3991,7630,'Elisa','2022-03-25','2026-09-25'),(3992,7631,'admin','2022-03-21','2022-04-21'),(3993,7632,'ari@','2022-04-08','2026-10-08'),(3994,7633,'Bubu','2022-03-04','2026-09-04'),(3995,7634,'Elisadmin','2022-04-04','2022-09-04'),(3996,7635,'Semocagai','2022-04-09','2022-09-09'),(3997,7636,'@admin.amos.baudi@','2022-04-15','2022-09-15'),(3998,7637,'@admin.dino.laurora@','2022-03-26','2026-09-26'),(3999,7638,'@admin.amos.baudi@','2022-04-08','2022-05-08'),(4000,7639,'admin4','2022-04-07','2022-05-07'),(4001,7640,'admin4','2022-03-16','2022-04-16'),(4002,7641,'@admin.amos.baudi@','2022-03-25','2022-04-25'),(4003,7642,'@admin.edoardo.revere@','2022-03-15','2022-04-15'),(4004,7643,'io.maugeri@','2022-04-02','2022-05-02'),(4005,7644,'troisio@','2022-03-08','2026-09-08'),(4006,7645,'raffa_forna','2022-03-14','2022-08-14'),(4007,7646,'Perdibole','2022-03-19','2022-04-19'),(4008,7647,'@admin.cleo.mottini@','2022-03-21','2026-09-21'),(4009,7648,'@admin.francesco.defranceschi@','2022-03-26','2022-04-26'),(4010,7650,'@admin.cleo.mottini@','2022-04-11','2026-10-11'),(4011,7651,'Elisa','2022-03-30','2022-04-30'),(4012,7652,'do.demartinis@','2022-03-22','2026-09-22'),(4013,7653,'Elisa','2022-04-06','2026-10-06'),(4014,7654,'@admin.donatello.boccanegra@','2022-04-05','2022-05-05'),(4015,7655,'raffa_forna','2022-04-03','2022-05-03'),(4016,7656,'@admin.luci.grip@','2022-03-16','2022-04-16'),(4017,7657,'@admin.edoardo.revere@','2022-03-21','2022-08-21'),(4018,7658,'@admin.luci.grip@','2022-03-25','2022-04-25'),(4019,7659,'io.maugeri@','2022-04-05','2026-10-05'),(4020,7660,'Elisa','2022-03-22','2026-09-22'),(4021,7661,'@admin.francesco.defranceschi@','2022-03-22','2022-08-22'),(4022,7662,'Bubu','2022-04-11','2022-05-11'),(4023,7663,'aaaaaa','2022-03-21','2022-04-21'),(4024,7664,'do.demartinis@','2022-03-26','2022-08-26'),(4025,7665,'@admin.luci.grip@','2022-03-12','2022-08-12'),(4026,7666,'ndra.vidon@','2022-04-09','2026-10-09'),(4027,7667,'do.demartinis@','2022-04-09','2022-09-09'),(4028,7668,'aaaaaa','2022-03-18','2026-09-18'),(4029,7669,'admin','2022-03-27','2022-08-27'),(4030,7670,'troisio@','2022-03-23','2022-04-23'),(4031,7671,'@admin.cleo.mottini@','2022-03-23','2026-09-23'),(4032,7672,'aaaaaa','2022-04-03','2022-05-03'),(4033,7673,'@admin.luci.grip@','2022-03-15','2026-09-15'),(4034,7674,'@admin.iacopo.biggioggero@','2022-04-01','2026-10-01'),(4035,7675,'@admin.donatello.boccanegra@','2022-03-11','2022-04-11'),(4036,7676,'@admin.edoardo.revere@','2022-03-20','2026-09-20'),(4037,7677,'@admin.viviano.sabbatini@','2022-03-19','2026-09-19'),(4038,7678,'raffa_forna','2022-04-16','2026-10-16'),(4039,7679,'swanhes','2022-04-02','2022-05-02'),(4040,7680,'Peribole','2022-03-19','2022-04-19'),(4041,7681,'ndra.vidon@','2022-03-31','2026-09-30'),(4042,7682,'ndra.vidon@','2022-04-13','2022-05-13'),(4043,7683,'@admin.edoardo.revere@','2022-04-03','2022-05-03'),(4044,7684,'@admin.francesco.defranceschi@','2022-03-19','2022-04-19'),(4045,7685,'adminlisa','2022-03-16','2026-09-16'),(4046,7686,'@admin.geremia.bontempo@','2022-03-19','2022-04-19'),(4047,7687,'admin4','2022-03-21','2022-04-21'),(4048,7688,'@admin.m.manna@','2022-03-20','2022-04-20'),(4049,7689,'@admin.cleo.mottini@','2022-04-11','2022-09-11'),(4050,7690,'admin','2022-04-03','2026-10-03'),(4051,7691,'Bubu','2022-03-30','2022-04-30'),(4052,7692,'nuovo','2022-04-08','2026-10-08'),(4053,7693,'@admin.iacopo.biggioggero@','2022-04-06','2022-05-06'),(4054,7694,'Elisa','2022-04-10','2022-05-10'),(4055,7695,'@admin.m.manna@','2022-03-04','2022-04-04'),(4056,7696,'Elisadmin','2022-04-06','2022-09-06'),(4057,7697,'troisio@','2022-04-16','2022-05-16'),(4058,7698,'raffa_forna','2022-04-16','2022-09-16'),(4059,7700,'troisio@','2022-03-25','2022-08-25'),(4060,7701,'@admin.edoardo.revere@','2022-03-27','2026-09-27'),(4061,7702,'Semocagai','2022-03-16','2026-09-16'),(4062,7703,'Semocagai','2022-04-03','2022-09-03'),(4063,7704,'@admin.dino.laurora@','2022-04-05','2026-10-05'),(4064,7705,'adminlisa','2022-03-18','2022-04-18'),(4065,7706,'@admin.edoardo.revere@','2022-03-19','2026-09-19'),(4066,7707,'io.maugeri@','2022-03-30','2026-09-30'),(4067,7708,'Elisa','2022-04-12','2022-05-12'),(4068,7709,'troisio@','2022-03-23','2022-08-23'),(4069,7710,'@admin.donatello.boccanegra@','2022-03-20','2026-09-20'),(4070,7711,'@admin.cleo.mottini@','2022-04-04','2022-09-04'),(4071,7712,'@admin.m.manna@','2022-03-21','2022-04-21'),(4072,7713,'io.maugeri@','2022-04-02','2022-05-02'),(4073,7714,'aaaaaa','2022-03-29','2022-04-29'),(4074,7715,'troisio@','2022-03-31','2022-08-31'),(4075,7716,'io.maugeri@','2022-03-13','2022-08-13'),(4076,7717,'@admin.m.manna@','2022-04-08','2022-09-08'),(4077,7718,'Bubu','2022-03-07','2026-09-07'),(4078,7719,'Elisa','2022-04-02','2022-05-02'),(4079,7721,'Elisa','2022-04-14','2022-05-14'),(4080,7722,'nuovo','2022-04-15','2022-09-15'),(4081,7723,'raffa_forna','2022-03-31','2022-04-30'),(4082,7724,'admin','2022-03-04','2022-04-04'),(4083,7725,'nuovo','2022-03-14','2022-04-14'),(4084,7726,'o.turini@','2022-03-26','2026-09-26'),(4085,7727,'ndra.vidon@','2022-04-11','2022-05-11'),(4086,7728,'Elisa','2022-04-06','2026-10-06'),(4087,7729,'aaaaaa','2022-04-01','2022-05-01'),(4088,7730,'lie@','2022-03-22','2022-04-22'),(4089,7731,'io.maugeri@','2022-04-06','2022-09-06'),(4090,7732,'adminlisa','2022-03-22','2022-04-22'),(4091,7733,'do.demartinis@','2022-03-24','2026-09-24'),(4092,7734,'Elisadmin','2022-04-13','2022-09-13'),(4093,7735,'nuovo','2022-03-26','2026-09-26'),(4094,7736,'admin','2022-03-24','2022-08-24'),(4095,7737,'raffa','2022-04-05','2026-10-05'),(4096,7738,'raffa','2022-03-28','2026-09-28'),(4097,7739,'@admin.dino.laurora@','2022-04-04','2026-10-04'),(4098,7740,'Semocagai','2022-04-04','2022-05-04'),(4099,7741,'troisio@','2022-03-28','2026-09-28'),(4100,7742,'Perdibole','2022-03-22','2022-08-22'),(4101,7743,'Peribole','2022-04-01','2026-10-01'),(4102,7744,'adminlisa','2022-04-12','2022-09-12'),(4103,7745,'swanhes','2022-04-05','2026-10-05'),(4104,7746,'admin4','2022-03-30','2022-04-30'),(4105,7747,'@admin.iacopo.biggioggero@','2022-03-27','2026-09-27'),(4106,7748,'ari@','2022-04-06','2022-05-06'),(4107,7749,'@admin.geremia.bontempo@','2022-03-08','2026-09-08'),(4108,7750,'raffa_forna','2022-03-28','2026-09-28'),(4109,7751,'troisio@','2022-04-15','2022-05-15'),(4110,7752,'raffa','2022-04-04','2022-05-04'),(4111,7754,'swanhes','2022-04-03','2022-05-03'),(4112,7755,'Perdibole','2022-04-09','2022-09-09'),(4113,7756,'@admin.cleo.mottini@','2022-04-02','2022-05-02'),(4114,7757,'@admin.viviano.sabbatini@','2022-03-28','2026-09-28'),(4115,7758,'@admin.amos.baudi@','2022-03-21','2026-09-21'),(4116,7759,'raffa_forna','2022-03-16','2022-08-16'),(4117,7760,'@admin.francesco.defranceschi@','2022-03-20','2022-08-20'),(4118,7761,'@admin.amos.baudi@','2022-04-13','2026-10-13'),(4119,7764,'raffa','2022-03-25','2026-09-25'),(4120,7766,'do.demartinis@','2022-03-18','2026-09-18'),(4121,7767,'ari@','2022-03-22','2026-09-22'),(4122,7768,'lie@','2022-03-25','2026-09-25'),(4123,7769,'troisio@','2022-04-06','2022-09-06'),(4124,7770,'do.demartinis@','2022-04-02','2022-09-02'),(4125,7771,'troisio@','2022-03-20','2022-08-20'),(4126,7772,'@admin.dino.laurora@','2022-03-25','2026-09-25'),(4127,7773,'@admin.iacopo.biggioggero@','2022-04-08','2022-05-08'),(4128,7774,'@admin.donatello.boccanegra@','2022-04-06','2022-09-06'),(4129,7775,'ndra.vidon@','2022-03-27','2022-08-27'),(4130,7776,'swanhes','2022-04-09','2026-10-09'),(4131,7777,'Elisadmin','2022-03-12','2022-04-12'),(4132,7778,'lie@','2022-04-09','2022-09-09'),(4133,7779,'troisio@','2022-03-12','2022-08-12'),(4134,7780,'Elisa','2022-03-31','2022-08-31'),(4135,7781,'@admin.geremia.bontempo@','2022-04-10','2022-09-10'),(4136,7782,'Bubu','2022-04-03','2022-09-03'),(4137,7783,'@admin.cleo.mottini@','2022-03-31','2022-04-30'),(4138,7784,'nuovo','2022-04-07','2026-10-07'),(4139,7786,'@admin.iacopo.biggioggero@','2022-03-26','2026-09-26'),(4140,7787,'@admin.francesco.defranceschi@','2022-03-19','2022-08-19'),(4141,7788,'nuovo','2022-03-12','2026-09-12'),(4142,7789,'admin','2022-04-08','2026-10-08'),(4143,7790,'@admin.iacopo.biggioggero@','2022-03-19','2022-04-19'),(4144,7791,'Bubu','2022-03-11','2026-09-11'),(4145,7792,'swanhes','2022-03-14','2022-08-14'),(4146,7793,'@admin.amos.baudi@','2022-04-04','2026-10-04'),(4147,7794,'@admin.cleo.mottini@','2022-03-13','2022-08-13'),(4148,7795,'nuovo','2022-03-20','2022-04-20'),(4149,7796,'admin','2022-04-11','2022-05-11'),(4150,7797,'troisio@','2022-03-29','2022-04-29'),(4151,7798,'raffa_forna','2022-04-16','2026-10-16'),(4152,7799,'@admin.iacopo.biggioggero@','2022-03-24','2026-09-24'),(4153,7800,'@admin.cleo.mottini@','2022-04-03','2026-10-03'),(4154,7801,'@admin.edoardo.revere@','2022-04-01','2026-10-01'),(4155,7802,'@admin.dino.laurora@','2022-03-29','2026-09-29'),(4156,7803,'Perdibole','2022-03-14','2022-08-14'),(4157,7804,'admin4','2022-04-06','2022-05-06'),(4158,7805,'@admin.francesco.defranceschi@','2022-03-12','2022-04-12'),(4159,7806,'nuovo','2022-03-30','2022-08-30'),(4160,7807,'nuovo','2022-03-18','2022-08-18'),(4161,7808,'o.turini@','2022-03-28','2022-08-28'),(4162,7809,'ndra.vidon@','2022-04-13','2026-10-13'),(4163,7810,'Bubu','2022-03-24','2022-04-24'),(4164,7811,'Elisadmin','2022-04-10','2022-05-10'),(4165,7812,'adminlisa','2022-03-07','2026-09-07'),(4166,7813,'raffa_forna','2022-03-21','2026-09-21'),(4167,7814,'raffa','2022-04-12','2022-09-12'),(4168,7815,'raffa_forna','2022-04-11','2022-09-11'),(4169,7817,'Elisadmin','2022-04-07','2022-05-07'),(4170,7818,'@admin.luci.grip@','2022-03-28','2022-08-28'),(4171,7819,'io.maugeri@','2022-04-10','2026-10-10'),(4172,7820,'@admin.geremia.bontempo@','2022-03-26','2022-04-26'),(4173,7821,'swanhes','2022-04-06','2022-09-06'),(4174,7822,'@admin.m.manna@','2022-04-04','2026-10-04'),(4175,7823,'@admin.donatello.boccanegra@','2022-03-20','2022-08-20'),(4176,7824,'nuovo','2022-04-01','2022-09-01'),(4177,7825,'aaaaaa','2022-03-23','2022-04-23'),(4178,7826,'Bubu','2022-04-04','2022-05-04'),(4179,7827,'@admin.cleo.mottini@','2022-03-23','2022-08-23'),(4180,7828,'@admin.amos.baudi@','2022-03-22','2026-09-22'),(4181,7829,'@admin.iacopo.biggioggero@','2022-03-27','2022-04-27'),(4182,7832,'admin','2022-03-22','2022-08-22'),(4183,7833,'adminlisa','2022-04-12','2026-10-12'),(4184,7834,'nuovo','2022-03-23','2026-09-23'),(4185,7835,'io.maugeri@','2022-03-28','2026-09-28'),(4186,7836,'aaaaaa','2022-03-05','2022-08-05'),(4187,7837,'io.maugeri@','2022-04-11','2022-05-11'),(4188,7838,'Elisa','2022-04-01','2026-10-01'),(4189,7839,'aaaaaa','2022-04-05','2022-05-05'),(4190,7840,'do.demartinis@','2022-03-21','2022-08-21'),(4191,7841,'lie@','2022-04-08','2022-09-08'),(4192,7842,'troisio@','2022-04-08','2022-09-08'),(4193,7843,'io.maugeri@','2022-03-30','2026-09-30'),(4194,7844,'o.turini@','2022-04-04','2026-10-04'),(4195,7846,'Bubu','2022-04-02','2022-09-02'),(4196,7847,'@admin.iacopo.biggioggero@','2022-04-12','2022-09-12'),(4197,7848,'ari@','2022-03-30','2022-04-30'),(4198,7849,'do.demartinis@','2022-03-16','2022-04-16'),(4199,7851,'nuovo','2022-03-20','2022-08-20'),(4200,7852,'nuovo','2022-04-06','2022-09-06'),(4201,7853,'@admin.edoardo.revere@','2022-03-13','2026-09-13'),(4202,7854,'admin','2022-03-28','2022-08-28'),(4203,7855,'raffa','2022-03-28','2022-08-28'),(4204,7856,'@admin.cleo.mottini@','2022-03-17','2022-04-17'),(4205,7857,'Elisadmin','2022-03-27','2022-08-27'),(4206,7858,'raffa_forna','2022-03-16','2022-04-16'),(4207,7859,'ndra.vidon@','2022-04-03','2022-05-03'),(4208,7860,'Bubu','2022-03-17','2022-04-17'),(4209,7861,'@admin.luci.grip@','2022-04-06','2022-09-06'),(4210,7862,'Bubu','2022-03-22','2022-08-22'),(4211,7863,'@admin.francesco.defranceschi@','2022-03-22','2022-04-22'),(4212,7864,'@admin.dino.laurora@','2022-04-03','2026-10-03'),(4213,7865,'@admin.francesco.defranceschi@','2022-03-27','2022-04-27'),(4214,7866,'admin4','2022-03-29','2026-09-29'),(4216,7868,'admin','2022-03-22','2022-08-22'),(4217,7869,'admin','2022-03-22','2022-08-22');
/*!40000 ALTER TABLE `activation_schedule` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alerts`
--

DROP TABLE IF EXISTS `alerts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `alerts` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(255) NOT NULL,
  `last_billing` int DEFAULT NULL,
  `amount` double DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `alerts_pk` (`id`,`username`),
  KEY `alerts_users_username_fk` (`username`),
  KEY `alerts_billings_id_fk` (`last_billing`),
  CONSTRAINT `alerts_billings_id_fk` FOREIGN KEY (`last_billing`) REFERENCES `billings` (`id`) ON DELETE CASCADE,
  CONSTRAINT `alerts_users_username_fk` FOREIGN KEY (`username`) REFERENCES `users` (`username`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=694 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alerts`
--

LOCK TABLES `alerts` WRITE;
/*!40000 ALTER TABLE `alerts` DISABLE KEYS */;
INSERT INTO `alerts` VALUES (691,'@admin.iacopo.biggioggero@',7679,261),(692,'io.maugeri@',7804,259.95);
/*!40000 ALTER TABLE `alerts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `billings`
--

DROP TABLE IF EXISTS `billings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `billings` (
  `id` int NOT NULL AUTO_INCREMENT,
  `order_id` int NOT NULL,
  `result` tinyint(1) NOT NULL,
  `billing_date_time` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `billings_id_uindex` (`id`),
  KEY `billings_orders_order_id_fk` (`order_id`),
  CONSTRAINT `billings_orders_order_id_fk` FOREIGN KEY (`order_id`) REFERENCES `orders` (`order_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7831 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `billings`
--

LOCK TABLES `billings` WRITE;
/*!40000 ALTER TABLE `billings` DISABLE KEYS */;
INSERT INTO `billings` VALUES (224,1565,1,'2022-03-11 12:20:47'),(233,1566,1,'2022-03-11 13:12:05'),(237,1567,1,'2022-03-11 13:13:04'),(244,1573,1,'2022-03-11 13:31:29'),(249,1574,1,'2022-03-11 13:33:11'),(250,1575,1,'2022-03-11 13:34:00'),(255,1577,1,'2022-03-11 13:34:36'),(275,1582,1,'2022-03-12 01:57:44'),(288,1587,1,'2022-03-12 14:06:15'),(291,1591,1,'2022-03-13 12:12:17'),(293,1592,1,'2022-03-13 12:13:08'),(299,1596,1,'2022-03-15 18:35:47'),(300,1597,1,'2022-03-15 19:47:10'),(316,1609,1,'2022-03-16 06:34:52'),(317,1610,1,'2022-03-16 06:36:53'),(5862,1598,1,'2022-03-22 04:53:20'),(7476,7517,1,'2022-03-22 07:02:29'),(7477,7518,1,'2022-03-22 07:02:29'),(7478,7519,0,'2022-03-22 07:02:29'),(7479,7520,1,'2022-03-22 07:02:29'),(7480,7521,1,'2022-03-22 07:02:29'),(7481,7522,1,'2022-03-22 07:02:29'),(7482,7523,1,'2022-03-22 07:02:30'),(7483,7524,1,'2022-03-22 07:02:30'),(7484,7525,0,'2022-03-22 07:02:30'),(7485,7526,1,'2022-03-22 07:02:30'),(7486,7527,1,'2022-03-22 07:02:30'),(7487,7528,1,'2022-03-22 07:02:30'),(7488,7529,1,'2022-03-22 07:02:30'),(7489,7530,1,'2022-03-22 07:02:30'),(7490,7531,1,'2022-03-22 07:02:30'),(7491,7532,1,'2022-03-22 07:02:30'),(7492,7533,1,'2022-03-22 07:02:30'),(7493,7534,1,'2022-03-22 07:02:30'),(7494,7535,1,'2022-03-22 07:02:30'),(7495,7536,1,'2022-03-22 07:02:30'),(7496,7537,1,'2022-03-22 07:02:30'),(7497,7538,1,'2022-03-22 07:02:31'),(7498,7539,1,'2022-03-22 07:02:31'),(7499,7540,1,'2022-03-22 07:02:31'),(7500,7541,1,'2022-03-22 07:02:31'),(7501,7542,1,'2022-03-22 07:02:31'),(7502,7543,1,'2022-03-22 07:02:31'),(7503,7544,1,'2022-03-22 07:02:31'),(7504,7545,1,'2022-03-22 07:02:31'),(7505,7546,1,'2022-03-22 07:02:31'),(7506,7547,0,'2022-03-22 07:02:31'),(7507,7548,1,'2022-03-22 07:02:31'),(7508,7549,1,'2022-03-22 07:02:31'),(7509,7550,1,'2022-03-22 07:02:31'),(7510,7551,1,'2022-03-22 07:02:32'),(7511,7552,1,'2022-03-22 07:02:32'),(7512,7553,1,'2022-03-22 07:02:32'),(7513,7554,1,'2022-03-22 07:02:32'),(7514,7555,1,'2022-03-22 07:02:32'),(7515,7556,1,'2022-03-22 07:02:32'),(7516,7557,0,'2022-03-22 07:02:32'),(7517,7558,1,'2022-03-22 07:02:32'),(7518,7559,1,'2022-03-22 07:02:32'),(7519,7560,1,'2022-03-22 07:02:32'),(7520,7561,1,'2022-03-22 07:02:32'),(7521,7562,1,'2022-03-22 07:02:33'),(7522,7563,1,'2022-03-22 07:02:33'),(7523,7564,1,'2022-03-22 07:02:33'),(7524,7565,1,'2022-03-22 07:02:33'),(7525,7566,1,'2022-03-22 07:02:33'),(7526,7567,1,'2022-03-22 07:02:33'),(7527,7568,1,'2022-03-22 07:02:33'),(7528,7569,1,'2022-03-22 07:02:33'),(7529,7570,1,'2022-03-22 07:02:33'),(7530,7571,1,'2022-03-22 07:02:33'),(7531,7572,1,'2022-03-22 07:02:33'),(7532,7573,1,'2022-03-22 07:02:33'),(7533,7574,0,'2022-03-22 07:02:33'),(7534,7575,1,'2022-03-22 07:02:34'),(7535,7576,1,'2022-03-22 07:02:34'),(7536,7577,1,'2022-03-22 07:02:34'),(7537,7578,1,'2022-03-22 07:02:34'),(7538,7579,1,'2022-03-22 07:02:34'),(7539,7580,1,'2022-03-22 07:02:34'),(7540,7581,1,'2022-03-22 07:02:34'),(7541,7582,1,'2022-03-22 07:02:34'),(7542,7583,1,'2022-03-22 07:02:34'),(7543,7584,1,'2022-03-22 07:02:34'),(7544,7585,0,'2022-03-22 07:02:34'),(7545,7586,0,'2022-03-22 07:02:34'),(7546,7587,1,'2022-03-22 07:02:34'),(7547,7588,1,'2022-03-22 07:02:34'),(7548,7589,1,'2022-03-22 07:02:35'),(7549,7590,1,'2022-03-22 07:02:35'),(7550,7591,1,'2022-03-22 07:02:35'),(7551,7592,1,'2022-03-22 07:02:35'),(7552,7593,1,'2022-03-22 07:02:35'),(7553,7594,1,'2022-03-22 07:02:35'),(7554,7595,1,'2022-03-22 07:02:35'),(7555,7596,1,'2022-03-22 07:02:35'),(7556,7597,1,'2022-03-22 07:02:35'),(7557,7598,1,'2022-03-22 07:02:35'),(7558,7599,1,'2022-03-22 07:02:35'),(7559,7600,1,'2022-03-22 07:02:35'),(7560,7601,1,'2022-03-22 07:02:35'),(7561,7602,1,'2022-03-22 07:02:35'),(7562,7603,1,'2022-03-22 07:02:35'),(7563,7604,1,'2022-03-22 07:02:36'),(7564,7605,1,'2022-03-22 07:02:36'),(7565,7606,1,'2022-03-22 07:02:36'),(7566,7607,1,'2022-03-22 07:02:36'),(7567,7608,1,'2022-03-22 07:02:36'),(7568,7609,1,'2022-03-22 07:02:36'),(7569,7610,1,'2022-03-22 07:02:36'),(7570,7611,1,'2022-03-22 07:02:36'),(7571,7612,1,'2022-03-22 07:02:36'),(7572,7613,1,'2022-03-22 07:02:36'),(7573,7614,1,'2022-03-22 07:02:36'),(7574,7615,0,'2022-03-22 07:02:36'),(7575,7616,1,'2022-03-22 07:02:36'),(7576,7617,1,'2022-03-22 07:02:36'),(7577,7618,1,'2022-03-22 07:02:36'),(7578,7619,1,'2022-03-22 07:02:37'),(7579,7620,1,'2022-03-22 07:02:37'),(7580,7621,1,'2022-03-22 07:02:37'),(7581,7622,0,'2022-03-22 07:02:37'),(7582,7623,0,'2022-03-22 07:02:37'),(7583,7624,1,'2022-03-22 07:02:37'),(7584,7625,1,'2022-03-22 07:02:37'),(7585,7626,0,'2022-03-22 07:02:37'),(7586,7627,1,'2022-03-22 07:02:37'),(7587,7628,1,'2022-03-22 07:02:37'),(7588,7629,1,'2022-03-22 07:02:37'),(7589,7630,1,'2022-03-22 07:02:37'),(7590,7631,1,'2022-03-22 07:02:37'),(7591,7632,1,'2022-03-22 07:02:38'),(7592,7633,1,'2022-03-22 07:02:38'),(7593,7634,1,'2022-03-22 07:02:38'),(7594,7635,1,'2022-03-22 07:02:38'),(7595,7636,1,'2022-03-22 07:02:38'),(7596,7637,1,'2022-03-22 07:02:38'),(7597,7638,1,'2022-03-22 07:02:38'),(7598,7639,1,'2022-03-22 07:02:38'),(7599,7640,1,'2022-03-22 07:02:38'),(7600,7641,1,'2022-03-22 07:02:38'),(7601,7642,1,'2022-03-22 07:02:38'),(7602,7643,1,'2022-03-22 07:02:38'),(7603,7644,1,'2022-03-22 07:02:38'),(7604,7645,1,'2022-03-22 07:02:38'),(7605,7646,1,'2022-03-22 07:02:38'),(7606,7647,1,'2022-03-22 07:02:39'),(7607,7648,1,'2022-03-22 07:02:39'),(7608,7649,0,'2022-03-22 07:02:39'),(7609,7650,1,'2022-03-22 07:02:39'),(7610,7651,1,'2022-03-22 07:02:39'),(7611,7652,1,'2022-03-22 07:02:39'),(7612,7653,1,'2022-03-22 07:02:39'),(7613,7654,1,'2022-03-22 07:02:39'),(7614,7655,1,'2022-03-22 07:02:39'),(7615,7656,1,'2022-03-22 07:02:39'),(7616,7657,1,'2022-03-22 07:02:39'),(7617,7658,1,'2022-03-22 07:02:39'),(7618,7659,1,'2022-03-22 07:02:39'),(7619,7660,1,'2022-03-22 07:02:39'),(7620,7661,1,'2022-03-22 07:02:39'),(7621,7662,1,'2022-03-22 07:02:39'),(7622,7663,1,'2022-03-22 07:02:39'),(7623,7664,1,'2022-03-22 07:02:39'),(7624,7665,1,'2022-03-22 07:02:40'),(7625,7666,1,'2022-03-22 07:02:40'),(7626,7667,1,'2022-03-22 07:02:40'),(7627,7668,1,'2022-03-22 07:02:40'),(7628,7669,1,'2022-03-22 07:02:40'),(7629,7670,1,'2022-03-22 07:02:40'),(7630,7671,1,'2022-03-22 07:02:40'),(7631,7672,1,'2022-03-22 07:02:40'),(7632,7673,1,'2022-03-22 07:02:40'),(7633,7674,1,'2022-03-22 07:02:40'),(7634,7675,1,'2022-03-22 07:02:40'),(7635,7676,1,'2022-03-22 07:02:40'),(7636,7677,1,'2022-03-22 07:02:40'),(7637,7678,1,'2022-03-22 07:02:40'),(7638,7679,1,'2022-03-22 07:02:41'),(7639,7680,1,'2022-03-22 07:02:41'),(7640,7681,1,'2022-03-22 07:02:41'),(7641,7682,1,'2022-03-22 07:02:41'),(7642,7683,1,'2022-03-22 07:02:41'),(7643,7684,1,'2022-03-22 07:02:41'),(7644,7685,1,'2022-03-22 07:02:41'),(7645,7686,1,'2022-03-22 07:02:41'),(7646,7687,1,'2022-03-22 07:02:41'),(7647,7688,1,'2022-03-22 07:02:41'),(7648,7689,1,'2022-03-22 07:02:41'),(7649,7690,1,'2022-03-22 07:02:42'),(7650,7691,1,'2022-03-22 07:02:42'),(7651,7692,1,'2022-03-22 07:02:42'),(7652,7693,1,'2022-03-22 07:02:42'),(7653,7694,1,'2022-03-22 07:02:42'),(7654,7695,1,'2022-03-22 07:02:42'),(7655,7696,1,'2022-03-22 07:02:42'),(7656,7697,1,'2022-03-22 07:02:42'),(7657,7698,1,'2022-03-22 07:02:42'),(7658,7699,0,'2022-03-22 07:02:42'),(7659,7700,1,'2022-03-22 07:02:42'),(7660,7701,1,'2022-03-22 07:02:42'),(7661,7702,1,'2022-03-22 07:02:43'),(7662,7703,1,'2022-03-22 07:02:43'),(7663,7704,1,'2022-03-22 07:02:43'),(7664,7705,1,'2022-03-22 07:02:43'),(7665,7706,1,'2022-03-22 07:02:43'),(7666,7707,1,'2022-03-22 07:02:43'),(7667,7708,1,'2022-03-22 07:02:43'),(7668,7709,1,'2022-03-22 07:02:43'),(7669,7710,1,'2022-03-22 07:02:43'),(7670,7711,1,'2022-03-22 07:02:43'),(7671,7712,1,'2022-03-22 07:02:43'),(7672,7713,1,'2022-03-22 07:02:43'),(7673,7714,1,'2022-03-22 07:02:43'),(7674,7715,1,'2022-03-22 07:02:44'),(7675,7716,1,'2022-03-22 07:02:44'),(7676,7717,1,'2022-03-22 07:02:44'),(7677,7718,1,'2022-03-22 07:02:44'),(7678,7719,1,'2022-03-22 07:02:44'),(7679,7720,0,'2022-03-22 07:02:44'),(7680,7721,1,'2022-03-22 07:02:44'),(7681,7722,1,'2022-03-22 07:02:44'),(7682,7723,1,'2022-03-22 07:02:44'),(7683,7724,1,'2022-03-22 07:02:44'),(7684,7725,1,'2022-03-22 07:02:44'),(7685,7726,1,'2022-03-22 07:02:44'),(7686,7727,1,'2022-03-22 07:02:44'),(7687,7728,1,'2022-03-22 07:02:45'),(7688,7729,1,'2022-03-22 07:02:45'),(7689,7730,1,'2022-03-22 07:02:45'),(7690,7731,1,'2022-03-22 07:02:45'),(7691,7732,1,'2022-03-22 07:02:45'),(7692,7733,1,'2022-03-22 07:02:45'),(7693,7734,1,'2022-03-22 07:02:45'),(7694,7735,1,'2022-03-22 07:02:45'),(7695,7736,1,'2022-03-22 07:02:45'),(7696,7737,1,'2022-03-22 07:02:45'),(7697,7738,1,'2022-03-22 07:02:45'),(7698,7739,1,'2022-03-22 07:02:45'),(7699,7740,1,'2022-03-22 07:02:46'),(7700,7741,1,'2022-03-22 07:02:46'),(7701,7742,1,'2022-03-22 07:02:46'),(7702,7743,1,'2022-03-22 07:02:46'),(7703,7744,1,'2022-03-22 07:02:46'),(7704,7745,1,'2022-03-22 07:02:46'),(7705,7746,1,'2022-03-22 07:02:46'),(7706,7747,1,'2022-03-22 07:02:46'),(7707,7748,1,'2022-03-22 07:02:46'),(7708,7749,1,'2022-03-22 07:02:46'),(7709,7750,1,'2022-03-22 07:02:46'),(7710,7751,1,'2022-03-22 07:02:47'),(7711,7752,1,'2022-03-22 07:02:47'),(7712,7753,0,'2022-03-22 07:02:47'),(7713,7754,1,'2022-03-22 07:02:47'),(7714,7755,1,'2022-03-22 07:02:47'),(7715,7756,1,'2022-03-22 07:02:47'),(7716,7757,1,'2022-03-22 07:02:47'),(7717,7758,1,'2022-03-22 07:02:47'),(7718,7759,1,'2022-03-22 07:02:47'),(7719,7760,1,'2022-03-22 07:02:47'),(7720,7761,1,'2022-03-22 07:02:47'),(7721,7762,0,'2022-03-22 07:02:48'),(7722,7763,0,'2022-03-22 07:02:48'),(7723,7764,1,'2022-03-22 07:02:48'),(7724,7765,0,'2022-03-22 07:02:48'),(7725,7766,1,'2022-03-22 07:02:48'),(7726,7767,1,'2022-03-22 07:02:48'),(7727,7768,1,'2022-03-22 07:02:48'),(7728,7769,1,'2022-03-22 07:02:48'),(7729,7770,1,'2022-03-22 07:02:48'),(7730,7771,1,'2022-03-22 07:02:48'),(7731,7772,1,'2022-03-22 07:02:48'),(7732,7773,1,'2022-03-22 07:02:48'),(7733,7774,1,'2022-03-22 07:02:49'),(7734,7775,1,'2022-03-22 07:02:49'),(7735,7776,1,'2022-03-22 07:02:49'),(7736,7777,1,'2022-03-22 07:02:49'),(7737,7778,1,'2022-03-22 07:02:49'),(7738,7779,1,'2022-03-22 07:02:49'),(7739,7780,1,'2022-03-22 07:02:49'),(7740,7781,1,'2022-03-22 07:02:49'),(7741,7782,1,'2022-03-22 07:02:49'),(7742,7783,1,'2022-03-22 07:02:49'),(7743,7784,1,'2022-03-22 07:02:49'),(7744,7785,0,'2022-03-22 07:02:49'),(7745,7786,1,'2022-03-22 07:02:49'),(7746,7787,1,'2022-03-22 07:02:50'),(7747,7788,1,'2022-03-22 07:02:50'),(7748,7789,1,'2022-03-22 07:02:50'),(7749,7790,1,'2022-03-22 07:02:50'),(7750,7791,1,'2022-03-22 07:02:50'),(7751,7792,1,'2022-03-22 07:02:50'),(7752,7793,1,'2022-03-22 07:02:50'),(7753,7794,1,'2022-03-22 07:02:50'),(7754,7795,1,'2022-03-22 07:02:50'),(7755,7796,1,'2022-03-22 07:02:50'),(7756,7797,1,'2022-03-22 07:02:50'),(7757,7798,1,'2022-03-22 07:02:50'),(7758,7799,1,'2022-03-22 07:02:50'),(7759,7800,1,'2022-03-22 07:02:50'),(7760,7801,1,'2022-03-22 07:02:51'),(7761,7802,1,'2022-03-22 07:02:51'),(7762,7803,1,'2022-03-22 07:02:51'),(7763,7804,1,'2022-03-22 07:02:51'),(7764,7805,1,'2022-03-22 07:02:51'),(7765,7806,1,'2022-03-22 07:02:51'),(7766,7807,1,'2022-03-22 07:02:51'),(7767,7808,1,'2022-03-22 07:02:51'),(7768,7809,1,'2022-03-22 07:02:51'),(7769,7810,1,'2022-03-22 07:02:51'),(7770,7811,1,'2022-03-22 07:02:51'),(7771,7812,1,'2022-03-22 07:02:51'),(7772,7813,1,'2022-03-22 07:02:52'),(7773,7814,1,'2022-03-22 07:02:52'),(7774,7815,1,'2022-03-22 07:02:52'),(7775,7816,0,'2022-03-22 07:02:52'),(7776,7817,1,'2022-03-22 07:03:19'),(7777,7818,1,'2022-03-22 07:03:19'),(7778,7819,1,'2022-03-22 07:03:20'),(7779,7820,1,'2022-03-22 07:03:20'),(7780,7821,1,'2022-03-22 07:03:20'),(7781,7822,1,'2022-03-22 07:03:20'),(7782,7823,1,'2022-03-22 07:03:20'),(7783,7824,1,'2022-03-22 07:03:20'),(7784,7825,1,'2022-03-22 07:03:20'),(7785,7826,1,'2022-03-22 07:03:20'),(7786,7827,1,'2022-03-22 07:03:20'),(7787,7828,1,'2022-03-22 07:03:20'),(7788,7829,1,'2022-03-22 07:03:20'),(7789,7830,0,'2022-03-22 07:03:20'),(7790,7831,0,'2022-03-22 07:03:21'),(7791,7832,1,'2022-03-22 07:03:21'),(7792,7833,1,'2022-03-22 07:03:21'),(7793,7834,1,'2022-03-22 07:03:21'),(7794,7835,1,'2022-03-22 07:03:21'),(7795,7836,1,'2022-03-22 07:03:21'),(7796,7837,1,'2022-03-22 07:03:21'),(7797,7838,1,'2022-03-22 07:03:21'),(7798,7839,1,'2022-03-22 07:03:21'),(7799,7840,1,'2022-03-22 07:03:21'),(7800,7841,1,'2022-03-22 07:03:22'),(7801,7842,1,'2022-03-22 07:03:22'),(7802,7843,1,'2022-03-22 07:03:22'),(7803,7844,1,'2022-03-22 07:03:22'),(7804,7845,0,'2022-03-22 07:03:22'),(7805,7846,1,'2022-03-22 07:03:22'),(7806,7847,1,'2022-03-22 07:03:22'),(7807,7848,1,'2022-03-22 07:03:22'),(7808,7849,1,'2022-03-22 07:03:22'),(7809,7850,0,'2022-03-22 07:03:22'),(7810,7851,1,'2022-03-22 07:03:23'),(7811,7852,1,'2022-03-22 07:03:23'),(7812,7853,1,'2022-03-22 07:03:23'),(7813,7854,1,'2022-03-22 07:03:23'),(7814,7855,1,'2022-03-22 07:03:23'),(7815,7856,1,'2022-03-22 07:03:23'),(7816,7857,1,'2022-03-22 07:03:23'),(7817,7858,1,'2022-03-22 07:03:23'),(7818,7859,1,'2022-03-22 07:03:23'),(7819,7860,1,'2022-03-22 07:03:23'),(7820,7861,1,'2022-03-22 07:03:23'),(7821,7862,1,'2022-03-22 07:03:23'),(7822,7863,1,'2022-03-22 07:03:24'),(7823,7864,1,'2022-03-22 07:03:24'),(7824,7865,1,'2022-03-22 07:03:24'),(7825,7866,1,'2022-03-22 07:03:24'),(7827,7868,1,'2022-03-23 00:14:45'),(7828,7869,0,'2022-03-23 00:14:54'),(7829,7869,0,'2022-03-23 00:14:55'),(7830,7869,1,'2022-03-23 00:14:57');
/*!40000 ALTER TABLE `billings` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `mark_insolvent_users` AFTER INSERT ON `billings` FOR EACH ROW BEGIN
    IF (!new.result)
    THEN
        update users
        set insolvent = 1
        where username in
              (
                  select distinct user
                  from orders
                  where order_id = NEW.order_id
              );
    ELSE
        update users
        set insolvent = 0
        where username in
              (
                  select distinct user
                  from orders
                  where order_id = NEW.order_id
              );
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `activation_schedule_insert` AFTER INSERT ON `billings` FOR EACH ROW BEGIN

    declare _username varchar(255);
    declare _activation_date date;
    declare _deactivation_date date;

    if(new.result = 1) then

    set _username = (SELECT o.user from orders o where o.order_id = new.order_id);
    set _activation_date = (SELECT start_date from orders o where o.order_id = new.order_id);
    set _deactivation_date = DATE_ADD(_activation_date,
        INTERVAL (
            select months from validity_periods join orders o2 on validity_periods.id = o2.validity_period_id
            where o2.order_id = NEW.order_id) MONTH);

    insert into activation_schedule (order_id, username, activation_date, deactivation_date)
        value (new.order_id, _username, _activation_date, _deactivation_date);
    end if;

end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `alert_management` AFTER INSERT ON `billings` FOR EACH ROW BEGIN
    declare failed_payments integer;
    declare _username varchar(255);
    SET _username = (select user from orders o where o.order_id = new.order_id);


    SET failed_payments := (select count(*) from billings b
                            where b.order_id in
                                  (select o.order_id from orders o
                                   where o.suspended = 1
                                     and b.order_id = o.order_id
                                     and o.order_id != NEW.order_id
                                     and o.user = _username));
    if(NEW.result = 0) then
        set failed_payments := failed_payments + (select count(*) from billings b
                            where b.order_id in
                                  (select o.order_id from orders o
                                   where o.suspended = 1
                                     and b.order_id = o.order_id
                                     and o.order_id = NEW.order_id
                                     and o.user = _username));
    end if;

    IF (NEW.result = 0 and failed_payments >= 3
        and (select count(*) from alerts a where a.username = _username) = 0) THEN
        insert into alerts (username, last_billing, amount)
        values (_username, new.id, (select orders.total_value from orders where orders.order_id = new.order_id));
    end if;

    # if a successful payment is added and there are previous failed payments
    # it deletes the old alert

    if (new.result = 1 and failed_payments < 3) THEN
        delete from alerts a where a.username = _username;
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `optional_packages`
--

DROP TABLE IF EXISTS `optional_packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `optional_packages` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `description` varchar(255) DEFAULT NULL,
  `monthly_fee` double DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `optional_packages__id_uindex` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `optional_packages`
--

LOCK TABLES `optional_packages` WRITE;
/*!40000 ALTER TABLE `optional_packages` DISABLE KEYS */;
INSERT INTO `optional_packages` VALUES (1,'Sky','Description Sky',11.8),(2,'Netflix','Description Netflix',16),(3,'Infinity','Description Infinity',10.78),(4,'Apple Music','Description Apple Music',16.39),(5,'Spotify','Description Spotify',10),(6,'NordVPN','Description NordVPN',9.39),(7,'YouTube Premium','Description YouTube Premium',9.78),(8,'Disney+','Description Disney+',13.39);
/*!40000 ALTER TABLE `optional_packages` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders` (
  `order_id` int NOT NULL AUTO_INCREMENT,
  `user` varchar(255) NOT NULL,
  `order_date` datetime DEFAULT NULL,
  `package_id` int NOT NULL,
  `start_date` date DEFAULT NULL,
  `suspended` tinyint(1) DEFAULT NULL,
  `validity_period_id` int DEFAULT NULL,
  `total_value` double DEFAULT NULL,
  PRIMARY KEY (`order_id`),
  KEY `purchases_users_username_fk` (`user`),
  KEY `purchases_packages_id_fk` (`package_id`),
  KEY `orders_validity_periods_id_fk` (`validity_period_id`),
  CONSTRAINT `orders_packages_id_fk` FOREIGN KEY (`package_id`) REFERENCES `packages` (`package_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `orders_validity_periods_id_fk` FOREIGN KEY (`validity_period_id`) REFERENCES `validity_periods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `purchases_users_username_fk` FOREIGN KEY (`user`) REFERENCES `users` (`username`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7870 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES (1565,'admin4','2022-03-11 11:20:47',14,'2022-03-11',0,2,54.8),(1566,'admin4','2022-03-11 12:10:49',15,'2022-03-11',0,3,41.8),(1567,'admin4','2022-03-11 12:13:03',14,'2022-03-11',0,2,54.8),(1573,'Bubu','2022-03-11 12:31:29',14,'2022-03-11',0,2,54.8),(1574,'Bubu','2022-03-11 12:32:03',14,'2022-03-11',0,1,54.8),(1575,'semocagai','2022-03-11 12:34:01',11,'2022-03-11',0,2,41.8),(1577,'semocagai','2022-03-11 12:34:33',14,'2022-02-28',0,2,167.57999999999998),(1582,'Elisa','2022-03-11 18:14:41',11,'2022-03-11',0,3,41.8),(1587,'aaaaaa','2022-03-12 12:10:02',11,'2022-03-12',0,1,208.75),(1591,'swanhes','2022-03-13 11:12:17',14,'2022-03-13',0,2,54.8),(1592,'swanhes','2022-03-13 11:12:51',11,'2022-03-13',0,2,41.8),(1596,'Elisa','2022-03-15 17:35:47',14,'2022-03-15',0,3,54.8),(1597,'Elisa','2022-03-15 18:47:10',14,'2022-03-15',0,1,54.8),(1598,'Elisa','2022-03-15 18:47:18',14,'2022-03-15',0,1,54.8),(1609,'admin','2022-03-16 05:34:52',14,'2022-02-07',0,3,63.8),(1610,'admin','2022-03-16 05:36:53',11,'2022-02-07',0,1,41.8),(7517,'lie@','2022-03-20 19:29:50',12,'2022-04-07',0,1,280.34000000000003),(7518,'@admin.viviano.sabbatini@','2022-03-19 13:31:08',16,'2022-03-30',0,2,310.56),(7519,'@admin.francesco.defranceschi@','2022-03-03 21:09:37',14,'2022-03-21',1,2,261),(7520,'o.turini@','2022-03-18 05:09:01',11,'2022-04-12',0,3,250.56),(7521,'@admin.geremia.bontempo@','2022-03-22 07:01:40',12,'2022-03-23',0,3,266.95),(7522,'swanhes','2022-03-07 16:35:07',12,'2022-03-08',0,3,267.73),(7523,'@admin.donatello.boccanegra@','2022-03-16 21:14:01',19,'2022-04-04',0,2,261),(7524,'raffa_forna','2022-03-19 17:08:43',20,'2022-03-31',0,2,314.34000000000003),(7525,'@admin.iacopo.biggioggero@','2022-02-28 10:42:09',18,'2022-03-10',1,3,240.56),(7526,'@admin.viviano.sabbatini@','2022-03-02 14:15:41',13,'2022-03-10',0,3,241.95),(7527,'Elisa','2022-03-14 03:01:54',15,'2022-03-22',0,2,303.56),(7528,'@admin.donatello.boccanegra@','2022-03-17 08:05:58',16,'2022-04-04',0,2,261),(7529,'raffa','2022-03-22 06:21:43',20,'2022-04-10',0,3,257.56),(7530,'ndra.vidon@','2022-03-17 01:55:44',18,'2022-04-11',0,2,309.95),(7531,'ari@','2022-03-05 08:28:17',11,'2022-03-28',0,2,261),(7532,'o.turini@','2022-03-19 03:39:46',19,'2022-03-31',0,1,211),(7533,'nuovo','2022-03-22 02:06:32',12,'2022-03-30',0,1,211),(7534,'@admin.edoardo.revere@','2022-03-15 11:14:26',18,'2022-04-02',0,3,231.17000000000002),(7535,'ndra.vidon@','2022-03-16 15:14:20',18,'2022-03-24',0,2,300.56),(7536,'@admin.luci.grip@','2022-03-19 10:56:36',16,'2022-04-08',0,2,261),(7537,'@admin.edoardo.revere@','2022-03-14 23:35:18',17,'2022-04-07',0,3,277.34000000000003),(7538,'Peribole','2022-03-21 02:15:29',12,'2022-03-22',0,2,261),(7539,'Elisadmin','2022-03-20 21:31:13',15,'2022-04-16',0,1,211),(7540,'Perdibole','2022-03-17 08:27:44',14,'2022-03-27',0,1,211),(7541,'o.turini@','2022-03-03 11:50:26',19,'2022-03-26',0,1,211),(7542,'@admin.geremia.bontempo@','2022-03-20 21:29:37',18,'2022-04-03',0,2,261),(7543,'@admin.edoardo.revere@','2022-03-19 14:12:53',19,'2022-03-23',0,3,242.97),(7544,'o.turini@','2022-03-22 02:41:30',13,'2022-03-29',0,3,208),(7545,'swanhes','2022-03-11 21:19:15',20,'2022-04-02',0,3,266.95),(7546,'@admin.amos.baudi@','2022-03-10 23:26:16',15,'2022-04-02',0,3,233.19),(7547,'Semocagai','2022-03-06 21:54:03',18,'2022-03-15',1,3,221.39),(7548,'raffa_forna','2022-03-20 22:40:43',13,'2022-04-05',0,1,211),(7549,'Semocagai','2022-03-10 22:58:32',11,'2022-03-12',0,3,289.53),(7550,'@admin.edoardo.revere@','2022-03-21 21:02:04',13,'2022-04-05',0,1,211),(7551,'@admin.geremia.bontempo@','2022-03-15 10:31:48',14,'2022-03-24',0,3,250.56),(7552,'io.maugeri@','2022-03-20 07:52:37',16,'2022-04-04',0,3,251.34),(7553,'@admin.donatello.boccanegra@','2022-03-07 15:15:28',13,'2022-03-26',0,3,208),(7554,'ari@','2022-03-19 06:09:31',15,'2022-03-25',0,2,261),(7555,'raffa_forna','2022-03-17 09:25:32',18,'2022-03-25',0,2,336.95),(7556,'Semocagai','2022-03-22 04:36:13',17,'2022-03-22',0,3,246.78),(7557,'swanhes','2022-03-19 15:32:38',18,'2022-04-12',1,2,331.75),(7558,'raffa_forna','2022-03-13 12:40:15',13,'2022-03-22',0,3,231.17000000000002),(7559,'@admin.m.manna@','2022-03-09 11:00:59',11,'2022-03-25',0,2,293.56),(7560,'o.turini@','2022-03-20 18:42:26',11,'2022-04-13',0,2,311.56),(7561,'ndra.vidon@','2022-03-15 12:17:49',12,'2022-04-08',0,3,208),(7562,'adminlisa','2022-03-13 16:57:12',15,'2022-03-30',0,1,244.56),(7563,'@admin.francesco.defranceschi@','2022-03-14 17:50:06',17,'2022-03-15',0,3,208),(7564,'@admin.amos.baudi@','2022-03-20 19:03:44',15,'2022-04-16',0,3,266.95),(7565,'@admin.luci.grip@','2022-03-22 06:52:55',16,'2022-04-11',0,1,270.34000000000003),(7566,'troisio@','2022-03-18 03:13:20',15,'2022-03-21',0,3,258.97),(7567,'raffa','2022-03-19 05:06:01',20,'2022-04-12',0,2,319.95),(7568,'aaaaaa','2022-03-14 14:00:12',20,'2022-03-23',0,2,261),(7569,'@admin.geremia.bontempo@','2022-03-22 06:10:23',12,'2022-04-16',0,2,310.56),(7570,'Elisadmin','2022-03-22 05:01:01',18,'2022-04-02',0,3,272.95),(7571,'admin','2022-03-16 01:02:52',18,'2022-03-24',0,1,270.95),(7572,'Elisa','2022-02-25 14:09:38',15,'2022-03-05',0,1,211),(7573,'@admin.edoardo.revere@','2022-03-16 23:32:35',11,'2022-04-08',0,2,261),(7574,'@admin.iacopo.biggioggero@','2022-03-21 05:58:23',20,'2022-04-06',1,3,208),(7575,'troisio@','2022-03-19 11:10:46',11,'2022-03-20',0,1,211),(7576,'@admin.viviano.sabbatini@','2022-03-07 14:31:08',18,'2022-03-29',0,3,208),(7577,'@admin.dino.laurora@','2022-03-13 14:38:29',13,'2022-04-01',0,3,241.17000000000002),(7578,'swanhes','2022-03-17 01:24:27',15,'2022-03-23',0,2,261),(7579,'@admin.edoardo.revere@','2022-03-15 13:29:08',16,'2022-03-30',0,3,267.95),(7580,'@admin.viviano.sabbatini@','2022-03-17 04:32:42',14,'2022-03-27',0,2,331.75),(7581,'@admin.cleo.mottini@','2022-03-13 19:15:57',11,'2022-03-30',0,3,261.34000000000003),(7582,'@admin.dino.laurora@','2022-03-06 22:50:35',18,'2022-03-17',0,3,208),(7583,'swanhes','2022-03-02 13:33:13',12,'2022-03-11',0,3,208),(7584,'aaaaaa','2022-03-16 20:00:57',14,'2022-04-04',0,2,261),(7585,'Elisadmin','2022-03-16 01:32:51',15,'2022-04-10',1,3,208),(7586,'@admin.m.manna@','2022-03-15 01:21:19',20,'2022-03-31',1,1,211),(7587,'Elisa','2022-03-16 12:22:08',20,'2022-04-07',0,2,326.14),(7588,'@admin.cleo.mottini@','2022-03-07 19:37:08',20,'2022-03-29',0,2,261),(7589,'nuovo','2022-03-16 05:55:40',20,'2022-04-03',0,1,211),(7590,'Peribole','2022-02-27 23:14:31',14,'2022-03-04',0,2,294.17),(7591,'Peribole','2022-03-15 23:28:03',16,'2022-03-22',0,2,261),(7592,'io.maugeri@','2022-03-20 18:56:24',17,'2022-04-11',0,2,319.95),(7593,'Elisadmin','2022-03-22 05:18:19',19,'2022-04-10',0,3,241.17000000000002),(7594,'raffa','2022-03-22 04:00:23',13,'2022-04-03',0,1,211),(7595,'o.turini@','2022-03-16 22:51:44',18,'2022-04-10',0,3,208),(7596,'@admin.francesco.defranceschi@','2022-03-11 04:59:21',12,'2022-03-14',0,3,250.56),(7597,'raffa','2022-03-16 04:28:37',20,'2022-03-17',0,2,304.34000000000003),(7598,'troisio@','2022-03-08 22:46:01',13,'2022-04-05',0,1,243.56),(7599,'Semocagai','2022-03-10 08:02:48',16,'2022-03-10',0,1,244.95),(7600,'@admin.cleo.mottini@','2022-03-18 19:41:11',11,'2022-03-20',0,3,261.34000000000003),(7601,'nuovo','2022-03-20 03:05:14',16,'2022-03-29',0,3,208),(7602,'@admin.luci.grip@','2022-03-20 19:21:39',17,'2022-04-13',0,1,254.34),(7603,'ari@','2022-03-18 16:01:52',19,'2022-04-02',0,1,285.95),(7604,'aaaaaa','2022-03-13 15:05:33',19,'2022-04-10',0,2,310.56),(7605,'raffa_forna','2022-03-20 12:29:05',19,'2022-04-12',0,2,261),(7606,'admin','2022-03-21 08:00:21',11,'2022-04-05',0,3,231.17000000000002),(7607,'lie@','2022-03-05 03:31:35',17,'2022-03-05',0,3,208),(7608,'Perdibole','2022-03-19 03:34:37',18,'2022-03-29',0,2,284.17),(7609,'admin4','2022-03-16 15:21:37',18,'2022-04-06',0,1,211),(7610,'raffa_forna','2022-03-22 00:41:47',18,'2022-04-14',0,1,211),(7611,'do.demartinis@','2022-03-08 12:22:15',20,'2022-03-29',0,2,261),(7612,'swanhes','2022-03-05 22:34:22',19,'2022-03-24',0,3,277.34000000000003),(7613,'io.maugeri@','2022-03-19 12:54:21',11,'2022-04-12',0,2,261),(7614,'swanhes','2022-03-20 17:06:04',16,'2022-04-07',0,1,243.56),(7615,'io.maugeri@','2022-03-18 21:08:10',15,'2022-03-30',1,2,299.78),(7616,'nuovo','2022-03-14 14:24:42',19,'2022-03-16',0,3,208),(7617,'Bubu','2022-03-14 13:21:14',14,'2022-04-02',0,1,211),(7618,'Semocagai','2022-03-09 05:11:42',11,'2022-03-26',0,2,305.36),(7619,'ndra.vidon@','2022-03-22 05:07:12',20,'2022-03-29',0,3,230.78),(7620,'Elisa','2022-03-18 23:06:52',18,'2022-04-13',0,1,254.34),(7621,'Peribole','2022-03-18 00:06:52',14,'2022-04-06',0,3,208),(7622,'o.turini@','2022-03-22 03:41:46',17,'2022-04-16',1,2,261),(7623,'Bubu','2022-03-06 19:34:25',18,'2022-03-16',1,1,211),(7624,'@admin.iacopo.biggioggero@','2022-03-03 05:29:27',13,'2022-03-06',0,3,266.95),(7625,'@admin.donatello.boccanegra@','2022-03-09 01:02:19',18,'2022-03-26',0,3,208),(7626,'io.maugeri@','2022-03-21 18:47:01',19,'2022-04-11',1,1,211),(7627,'Semocagai','2022-03-20 00:22:09',11,'2022-03-27',0,1,211),(7628,'ari@','2022-03-17 16:11:23',17,'2022-03-20',0,2,303.56),(7629,'aaaaaa','2022-03-19 06:20:22',14,'2022-04-06',0,1,211),(7630,'Elisa','2022-03-20 01:01:23',16,'2022-03-25',0,2,261),(7631,'admin','2022-03-19 02:38:42',18,'2022-03-21',0,3,289.53),(7632,'ari@','2022-03-18 07:18:24',16,'2022-04-08',0,2,325.95),(7633,'Bubu','2022-03-01 18:07:23',13,'2022-03-04',0,2,310.17),(7634,'Elisadmin','2022-03-07 10:02:15',18,'2022-04-04',0,1,211),(7635,'Semocagai','2022-03-16 15:19:18',12,'2022-04-09',0,1,211),(7636,'@admin.amos.baudi@','2022-03-22 01:01:17',14,'2022-04-15',0,1,211),(7637,'@admin.dino.laurora@','2022-03-13 14:29:06',20,'2022-03-26',0,2,261),(7638,'@admin.amos.baudi@','2022-03-22 01:23:46',15,'2022-04-08',0,3,208),(7639,'admin4','2022-03-22 04:03:53',12,'2022-04-07',0,3,279.53),(7640,'admin4','2022-03-11 15:42:35',14,'2022-03-16',0,3,208),(7641,'@admin.amos.baudi@','2022-03-11 11:44:10',20,'2022-03-25',0,3,208),(7642,'@admin.edoardo.revere@','2022-03-08 06:32:59',12,'2022-03-15',0,3,208),(7643,'io.maugeri@','2022-03-21 23:01:42',12,'2022-04-02',0,3,269.36),(7644,'troisio@','2022-03-07 20:28:34',20,'2022-03-08',0,2,261),(7645,'raffa_forna','2022-03-11 14:37:16',19,'2022-03-14',0,1,211),(7646,'Perdibole','2022-03-13 02:14:39',13,'2022-03-19',0,3,256.95),(7647,'@admin.cleo.mottini@','2022-03-19 07:47:30',12,'2022-03-21',0,2,261),(7648,'@admin.francesco.defranceschi@','2022-03-13 22:40:50',14,'2022-03-26',0,3,208),(7649,'@admin.geremia.bontempo@','2022-03-22 00:56:53',17,'2022-04-12',1,1,211),(7650,'@admin.cleo.mottini@','2022-03-21 22:38:23',18,'2022-04-11',0,2,261),(7651,'Elisa','2022-03-14 22:45:29',16,'2022-03-30',0,3,208),(7652,'do.demartinis@','2022-03-17 21:40:07',14,'2022-03-22',0,2,261),(7653,'Elisa','2022-03-13 19:58:27',18,'2022-04-06',0,2,261),(7654,'@admin.donatello.boccanegra@','2022-03-19 13:58:22',18,'2022-04-05',0,3,266.95),(7655,'raffa_forna','2022-03-20 18:23:12',13,'2022-04-03',0,3,208),(7656,'@admin.luci.grip@','2022-03-04 02:05:04',12,'2022-03-16',0,3,240.56),(7657,'@admin.edoardo.revere@','2022-03-18 17:48:29',17,'2022-03-21',0,1,280.34000000000003),(7658,'@admin.luci.grip@','2022-03-15 09:19:16',11,'2022-03-25',0,3,251.34),(7659,'io.maugeri@','2022-03-21 04:44:16',16,'2022-04-05',0,2,261),(7660,'Elisa','2022-03-13 07:04:46',17,'2022-03-22',0,2,261),(7661,'@admin.francesco.defranceschi@','2022-03-04 02:36:35',14,'2022-03-22',0,1,266.56),(7662,'Bubu','2022-03-15 02:29:00',19,'2022-04-11',0,3,208),(7663,'aaaaaa','2022-03-06 14:41:42',12,'2022-03-21',0,3,208),(7664,'do.demartinis@','2022-03-15 07:25:21',15,'2022-03-26',0,1,211),(7665,'@admin.luci.grip@','2022-02-28 09:20:47',18,'2022-03-12',0,1,260.17),(7666,'ndra.vidon@','2022-03-14 06:32:37',19,'2022-04-09',0,2,261),(7667,'do.demartinis@','2022-03-17 03:05:33',12,'2022-04-09',0,1,211),(7668,'aaaaaa','2022-03-08 05:46:42',16,'2022-03-18',0,2,261),(7669,'admin','2022-03-16 14:35:41',14,'2022-03-27',0,1,260.17),(7670,'troisio@','2022-03-16 04:24:07',16,'2022-03-23',0,3,208),(7671,'@admin.cleo.mottini@','2022-03-03 17:08:52',17,'2022-03-23',0,2,321.97),(7672,'aaaaaa','2022-03-16 11:04:38',14,'2022-04-03',0,3,208),(7673,'@admin.luci.grip@','2022-03-11 21:01:00',13,'2022-03-15',0,2,261),(7674,'@admin.iacopo.biggioggero@','2022-03-05 15:16:12',20,'2022-04-01',0,2,261),(7675,'@admin.donatello.boccanegra@','2022-03-10 09:53:38',18,'2022-03-11',0,3,261.34000000000003),(7676,'@admin.edoardo.revere@','2022-03-19 05:59:04',19,'2022-03-20',0,2,326.95),(7677,'@admin.viviano.sabbatini@','2022-03-07 12:13:51',12,'2022-03-19',0,2,261),(7678,'raffa_forna','2022-03-20 18:06:33',16,'2022-04-16',0,2,330.73),(7679,'swanhes','2022-03-19 21:05:22',15,'2022-04-02',0,3,208),(7680,'Peribole','2022-03-07 21:14:05',13,'2022-03-19',0,3,267.73),(7681,'ndra.vidon@','2022-03-21 01:34:44',16,'2022-03-31',0,2,332.75),(7682,'ndra.vidon@','2022-03-18 01:53:28',20,'2022-04-13',0,3,208),(7683,'@admin.edoardo.revere@','2022-03-17 04:56:24',12,'2022-04-03',0,3,262.36),(7684,'@admin.francesco.defranceschi@','2022-03-16 03:16:25',20,'2022-03-19',0,3,250.56),(7685,'adminlisa','2022-03-15 13:45:12',11,'2022-03-16',0,2,261),(7686,'@admin.geremia.bontempo@','2022-03-05 20:58:50',18,'2022-03-19',0,3,208),(7687,'admin4','2022-03-13 23:37:26',16,'2022-03-21',0,3,258.34000000000003),(7688,'@admin.m.manna@','2022-03-18 12:13:37',14,'2022-03-20',0,3,208),(7689,'@admin.cleo.mottini@','2022-03-16 08:35:09',14,'2022-04-11',0,1,253.56),(7690,'admin','2022-03-12 17:00:13',12,'2022-04-03',0,2,261),(7691,'Bubu','2022-03-17 17:55:24',12,'2022-03-30',0,3,247.56),(7692,'nuovo','2022-03-20 06:02:46',19,'2022-04-08',0,2,294.95),(7693,'@admin.iacopo.biggioggero@','2022-03-18 00:52:22',11,'2022-04-06',0,3,208),(7694,'Elisa','2022-03-21 11:51:43',14,'2022-04-10',0,3,266.56),(7695,'@admin.m.manna@','2022-03-03 10:14:28',11,'2022-03-04',0,3,261.34000000000003),(7696,'Elisadmin','2022-03-21 02:29:41',16,'2022-04-06',0,1,270.73),(7697,'troisio@','2022-03-20 16:03:36',15,'2022-04-16',0,3,208),(7698,'raffa_forna','2022-03-21 06:57:54',19,'2022-04-16',0,1,211),(7699,'ndra.vidon@','2022-03-13 12:59:30',18,'2022-03-19',1,3,247.17000000000002),(7700,'troisio@','2022-03-20 07:34:44',13,'2022-03-25',0,1,211),(7701,'@admin.edoardo.revere@','2022-03-21 05:02:01',13,'2022-03-27',0,2,349.14),(7702,'Semocagai','2022-03-15 00:42:53',20,'2022-03-16',0,2,309.95),(7703,'Semocagai','2022-03-13 02:44:42',15,'2022-04-03',0,1,211),(7704,'@admin.dino.laurora@','2022-03-21 15:01:39',20,'2022-04-05',0,2,261),(7705,'adminlisa','2022-03-16 09:47:45',11,'2022-03-18',0,3,251.56),(7706,'@admin.edoardo.revere@','2022-03-13 01:52:19',15,'2022-03-19',0,2,261),(7707,'io.maugeri@','2022-03-07 14:43:10',18,'2022-03-30',0,2,261),(7708,'Elisa','2022-03-21 18:14:00',18,'2022-04-12',0,3,251.34),(7709,'troisio@','2022-03-11 18:45:39',16,'2022-03-23',0,1,243.56),(7710,'@admin.donatello.boccanegra@','2022-03-19 15:53:29',18,'2022-03-20',0,2,293.56),(7711,'@admin.cleo.mottini@','2022-03-14 17:24:48',16,'2022-04-04',0,1,211),(7712,'@admin.m.manna@','2022-02-27 00:26:12',14,'2022-03-21',0,3,294.75),(7713,'io.maugeri@','2022-03-21 21:14:17',11,'2022-04-02',0,3,208),(7714,'aaaaaa','2022-03-10 20:52:22',11,'2022-03-29',0,3,256.95),(7715,'troisio@','2022-03-22 04:38:25',17,'2022-03-31',0,1,297.75),(7716,'io.maugeri@','2022-02-25 02:20:22',15,'2022-03-13',0,1,250.56),(7717,'@admin.m.manna@','2022-03-17 20:13:54',16,'2022-04-08',0,1,270.73),(7718,'Bubu','2022-02-28 00:55:26',15,'2022-03-07',0,2,261),(7719,'Elisa','2022-03-21 03:33:45',14,'2022-04-02',0,3,256.95),(7720,'@admin.iacopo.biggioggero@','2022-03-06 00:53:42',13,'2022-03-14',1,2,261),(7721,'Elisa','2022-03-18 20:53:21',18,'2022-04-14',0,3,250.56),(7722,'nuovo','2022-03-20 13:24:58',14,'2022-04-15',0,1,211),(7723,'raffa_forna','2022-03-21 13:04:27',14,'2022-03-31',0,3,208),(7724,'admin','2022-02-27 09:11:32',18,'2022-03-04',0,3,231.17000000000002),(7725,'nuovo','2022-03-14 10:23:04',11,'2022-03-14',0,3,208),(7726,'o.turini@','2022-03-22 05:47:55',13,'2022-03-26',0,2,300.17),(7727,'ndra.vidon@','2022-03-22 01:54:22',19,'2022-04-11',0,3,208),(7728,'Elisa','2022-03-19 10:57:17',18,'2022-04-06',0,2,261),(7729,'aaaaaa','2022-03-15 15:46:35',11,'2022-04-01',0,3,256.95),(7730,'lie@','2022-03-18 15:43:51',16,'2022-03-22',0,3,240.56),(7731,'io.maugeri@','2022-03-22 06:29:02',19,'2022-04-06',0,1,264.34000000000003),(7732,'adminlisa','2022-03-17 16:17:33',17,'2022-03-22',0,3,240.56),(7733,'do.demartinis@','2022-03-21 10:54:27',20,'2022-03-24',0,2,335.95),(7734,'Elisadmin','2022-03-22 00:29:25',12,'2022-04-13',0,1,211),(7735,'nuovo','2022-03-18 19:07:58',16,'2022-03-26',0,2,311.17),(7736,'admin','2022-03-19 06:27:37',18,'2022-03-24',0,1,211),(7737,'raffa','2022-03-22 01:54:51',13,'2022-04-05',0,2,320.73),(7738,'raffa','2022-03-03 03:29:38',15,'2022-03-28',0,2,310.56),(7739,'@admin.dino.laurora@','2022-03-09 16:56:14',12,'2022-04-04',0,2,303.56),(7740,'Semocagai','2022-03-20 10:23:44',18,'2022-04-04',0,3,208),(7741,'troisio@','2022-03-22 04:51:09',13,'2022-03-28',0,2,261),(7742,'Perdibole','2022-03-16 20:36:46',15,'2022-03-22',0,1,269.95),(7743,'Peribole','2022-03-10 19:06:22',17,'2022-04-01',0,2,338.75),(7744,'adminlisa','2022-03-16 16:00:40',15,'2022-04-12',0,1,211),(7745,'swanhes','2022-03-10 21:22:57',19,'2022-04-05',0,2,261),(7746,'admin4','2022-03-14 22:58:15',19,'2022-03-30',0,3,208),(7747,'@admin.iacopo.biggioggero@','2022-03-11 09:34:31',13,'2022-03-27',0,2,319.95),(7748,'ari@','2022-03-21 08:40:50',19,'2022-04-06',0,3,258.56),(7749,'@admin.geremia.bontempo@','2022-02-25 20:46:00',18,'2022-03-08',0,2,320.34000000000003),(7750,'raffa_forna','2022-03-12 15:27:07',15,'2022-03-28',0,2,330.34000000000003),(7751,'troisio@','2022-03-22 01:52:34',20,'2022-04-15',0,3,208),(7752,'raffa','2022-03-19 10:55:25',19,'2022-04-04',0,3,277.73),(7753,'swanhes','2022-03-16 17:10:40',17,'2022-04-11',1,2,261),(7754,'swanhes','2022-03-18 19:31:42',19,'2022-04-03',0,3,241.17000000000002),(7755,'Perdibole','2022-03-14 13:45:20',20,'2022-04-09',0,1,285.95),(7756,'@admin.cleo.mottini@','2022-03-20 12:58:21',14,'2022-04-02',0,3,208),(7757,'@admin.viviano.sabbatini@','2022-03-20 15:45:28',15,'2022-03-28',0,2,320.73),(7758,'@admin.amos.baudi@','2022-03-17 14:09:23',14,'2022-03-21',0,2,293.56),(7759,'raffa_forna','2022-03-13 07:55:38',13,'2022-03-16',0,1,211),(7760,'@admin.francesco.defranceschi@','2022-03-17 16:43:17',20,'2022-03-20',0,1,211),(7761,'@admin.amos.baudi@','2022-03-19 11:51:32',12,'2022-04-13',0,2,310.17),(7762,'@admin.dino.laurora@','2022-03-21 23:49:04',18,'2022-04-02',1,2,338.36),(7763,'admin','2022-03-21 18:48:27',17,'2022-03-22',1,3,208),(7764,'raffa','2022-03-08 17:03:32',13,'2022-03-25',0,2,325.95),(7765,'admin4','2022-03-17 20:31:28',11,'2022-03-30',1,2,261),(7766,'do.demartinis@','2022-03-15 23:34:20',16,'2022-03-18',0,2,304.56),(7767,'ari@','2022-03-20 09:59:27',11,'2022-03-22',0,2,301.56),(7768,'lie@','2022-03-21 23:54:49',20,'2022-03-25',0,2,304.34000000000003),(7769,'troisio@','2022-03-18 17:03:14',16,'2022-04-06',0,1,253.56),(7770,'do.demartinis@','2022-03-20 11:47:15',17,'2022-04-02',0,1,211),(7771,'troisio@','2022-03-19 18:28:01',14,'2022-03-20',0,1,211),(7772,'@admin.dino.laurora@','2022-03-17 13:40:13',17,'2022-03-25',0,2,261),(7773,'@admin.iacopo.biggioggero@','2022-03-16 05:11:30',15,'2022-04-08',0,3,266.95),(7774,'@admin.donatello.boccanegra@','2022-03-21 21:40:06',15,'2022-04-06',0,1,260.17),(7775,'ndra.vidon@','2022-03-17 23:37:21',14,'2022-03-27',0,1,250.17000000000002),(7776,'swanhes','2022-03-18 17:38:17',12,'2022-04-09',0,2,261),(7777,'Elisadmin','2022-03-08 13:45:44',12,'2022-03-12',0,3,277.73),(7778,'lie@','2022-03-17 20:30:54',14,'2022-04-09',0,1,211),(7779,'troisio@','2022-03-11 10:20:15',20,'2022-03-12',0,1,278.36),(7780,'Elisa','2022-03-08 04:11:19',13,'2022-03-31',0,1,211),(7781,'@admin.geremia.bontempo@','2022-03-20 03:31:25',12,'2022-04-10',0,1,255.36),(7782,'Bubu','2022-03-09 09:05:28',15,'2022-04-03',0,1,269.95),(7783,'@admin.cleo.mottini@','2022-03-10 14:09:10',11,'2022-03-31',0,3,208),(7784,'nuovo','2022-03-18 10:57:05',11,'2022-04-07',0,2,261),(7785,'@admin.viviano.sabbatini@','2022-03-19 03:14:51',17,'2022-04-12',1,3,208),(7786,'@admin.iacopo.biggioggero@','2022-02-27 02:28:50',12,'2022-03-26',0,2,300.56),(7787,'@admin.francesco.defranceschi@','2022-03-17 13:56:06',15,'2022-03-19',0,1,269.56),(7788,'nuovo','2022-03-11 14:17:17',18,'2022-03-12',0,2,261),(7789,'admin','2022-03-16 01:20:01',14,'2022-04-08',0,2,261),(7790,'@admin.iacopo.biggioggero@','2022-03-18 20:52:57',17,'2022-03-19',0,3,256.95),(7791,'Bubu','2022-03-11 00:40:20',15,'2022-03-11',0,2,261),(7792,'swanhes','2022-03-11 23:22:41',20,'2022-03-14',0,1,211),(7793,'@admin.amos.baudi@','2022-03-21 00:50:59',20,'2022-04-04',0,2,261),(7794,'@admin.cleo.mottini@','2022-03-11 18:32:53',12,'2022-03-13',0,1,269.56),(7795,'nuovo','2022-03-06 03:25:15',15,'2022-03-20',0,3,277.34000000000003),(7796,'admin','2022-03-15 15:49:02',12,'2022-04-11',0,3,208),(7797,'troisio@','2022-03-17 19:43:13',11,'2022-03-29',0,3,261.34000000000003),(7798,'raffa_forna','2022-03-21 19:52:40',13,'2022-04-16',0,2,261),(7799,'@admin.iacopo.biggioggero@','2022-03-18 12:46:10',20,'2022-03-24',0,2,261),(7800,'@admin.cleo.mottini@','2022-03-21 05:23:17',16,'2022-04-03',0,2,261),(7801,'@admin.edoardo.revere@','2022-03-22 06:26:10',18,'2022-04-01',0,2,300.56),(7802,'@admin.dino.laurora@','2022-03-22 00:26:09',17,'2022-03-29',0,2,303.56),(7803,'Perdibole','2022-03-12 17:45:33',11,'2022-03-14',0,1,245.57999999999998),(7804,'admin4','2022-03-21 01:42:22',12,'2022-04-06',0,3,273.56),(7805,'@admin.francesco.defranceschi@','2022-03-10 19:16:39',13,'2022-03-12',0,3,208),(7806,'nuovo','2022-03-15 20:57:43',14,'2022-03-30',0,1,269.95),(7807,'nuovo','2022-03-15 13:43:14',16,'2022-03-18',0,1,275.95),(7808,'o.turini@','2022-03-21 21:46:25',20,'2022-03-28',0,1,211),(7809,'ndra.vidon@','2022-03-20 11:09:09',17,'2022-04-13',0,2,261),(7810,'Bubu','2022-03-18 05:20:08',11,'2022-03-24',0,3,208),(7811,'Elisadmin','2022-03-20 13:19:09',20,'2022-04-10',0,3,208),(7812,'adminlisa','2022-02-27 13:40:59',14,'2022-03-07',0,2,261),(7813,'raffa_forna','2022-03-20 02:09:55',19,'2022-03-21',0,2,309.95),(7814,'raffa','2022-03-22 04:14:47',15,'2022-04-12',0,1,259.95),(7815,'raffa_forna','2022-03-22 06:14:01',12,'2022-04-11',0,1,280.73),(7816,'do.demartinis@','2022-03-14 07:47:28',20,'2022-03-27',1,2,319.95),(7817,'Elisadmin','2022-03-12 18:32:04',19,'2022-04-07',0,3,256.95),(7818,'@admin.luci.grip@','2022-03-21 00:23:40',19,'2022-03-28',0,1,211),(7819,'io.maugeri@','2022-03-19 09:33:00',15,'2022-04-10',0,2,319.56),(7820,'@admin.geremia.bontempo@','2022-03-18 23:40:49',16,'2022-03-26',0,3,230.78),(7821,'swanhes','2022-03-21 14:24:34',13,'2022-04-06',0,1,269.95),(7822,'@admin.m.manna@','2022-03-17 12:32:28',19,'2022-04-04',0,2,261),(7823,'@admin.donatello.boccanegra@','2022-03-14 08:19:49',18,'2022-03-20',0,1,235.17000000000002),(7824,'nuovo','2022-03-11 16:52:07',13,'2022-04-01',0,1,243.56),(7825,'aaaaaa','2022-03-21 04:20:30',14,'2022-03-23',0,3,208),(7826,'Bubu','2022-03-19 07:13:02',12,'2022-04-04',0,3,241.17000000000002),(7827,'@admin.cleo.mottini@','2022-03-07 22:40:41',16,'2022-03-23',0,1,244.95),(7828,'@admin.amos.baudi@','2022-03-14 08:57:41',18,'2022-03-22',0,2,293.78),(7829,'@admin.iacopo.biggioggero@','2022-03-20 05:45:01',11,'2022-03-27',0,3,256.95),(7830,'Elisa','2022-03-20 14:43:38',14,'2022-03-23',1,1,269.95),(7831,'@admin.dino.laurora@','2022-03-22 06:20:05',16,'2022-04-10',1,3,256.95),(7832,'admin','2022-03-18 19:22:54',15,'2022-03-22',0,1,286.95),(7833,'adminlisa','2022-03-22 02:06:18',19,'2022-04-12',0,2,261),(7834,'nuovo','2022-03-20 04:14:14',13,'2022-03-23',0,2,261),(7835,'io.maugeri@','2022-03-18 09:24:14',15,'2022-03-28',0,2,300.17),(7836,'aaaaaa','2022-02-28 17:17:13',13,'2022-03-05',0,1,211),(7837,'io.maugeri@','2022-03-16 14:31:34',14,'2022-04-11',0,3,261.34000000000003),(7838,'Elisa','2022-03-08 16:06:21',18,'2022-04-01',0,2,321.34000000000003),(7839,'aaaaaa','2022-03-21 00:52:58',11,'2022-04-05',0,3,208),(7840,'do.demartinis@','2022-03-20 09:08:29',20,'2022-03-21',0,1,262.36),(7841,'lie@','2022-03-20 10:14:05',11,'2022-04-08',0,1,211),(7842,'troisio@','2022-03-16 04:26:46',11,'2022-04-08',0,1,211),(7843,'io.maugeri@','2022-03-15 02:03:18',13,'2022-03-30',0,2,261),(7844,'o.turini@','2022-03-18 13:47:19',15,'2022-04-04',0,2,261),(7845,'io.maugeri@','2022-03-16 13:22:06',16,'2022-03-24',1,1,259.95),(7846,'Bubu','2022-03-21 12:15:04',20,'2022-04-02',0,1,296.73),(7847,'@admin.iacopo.biggioggero@','2022-03-16 23:33:51',13,'2022-04-12',0,1,280.73),(7848,'ari@','2022-03-21 23:28:20',18,'2022-03-30',0,3,208),(7849,'do.demartinis@','2022-03-16 14:27:42',18,'2022-03-16',0,3,208),(7850,'@admin.amos.baudi@','2022-03-12 09:29:17',15,'2022-03-29',1,3,257.17),(7851,'nuovo','2022-03-05 08:34:07',20,'2022-03-20',0,1,243.56),(7852,'nuovo','2022-03-19 10:27:01',20,'2022-04-06',0,1,211),(7853,'@admin.edoardo.revere@','2022-03-11 16:16:46',15,'2022-03-13',0,2,303.56),(7854,'admin','2022-03-19 09:10:49',14,'2022-03-28',0,1,243.56),(7855,'raffa','2022-03-21 14:54:46',11,'2022-03-28',0,1,211),(7856,'@admin.cleo.mottini@','2022-03-07 22:09:04',14,'2022-03-17',0,3,208),(7857,'Elisadmin','2022-03-13 03:37:32',11,'2022-03-27',0,1,211),(7858,'raffa_forna','2022-03-13 21:00:34',17,'2022-03-16',0,3,267.73),(7859,'ndra.vidon@','2022-03-21 15:39:32',16,'2022-04-03',0,3,268.34000000000003),(7860,'Bubu','2022-03-13 08:08:45',20,'2022-03-17',0,3,208),(7861,'@admin.luci.grip@','2022-03-20 20:09:27',14,'2022-04-06',0,1,211),(7862,'Bubu','2022-03-14 03:27:18',16,'2022-03-22',0,1,297.75),(7863,'@admin.francesco.defranceschi@','2022-03-13 10:07:16',12,'2022-03-22',0,3,208),(7864,'@admin.dino.laurora@','2022-03-21 01:51:08',13,'2022-04-03',0,2,261),(7865,'@admin.francesco.defranceschi@','2022-03-12 21:32:37',20,'2022-03-27',0,3,208),(7866,'admin4','2022-03-16 14:28:53',17,'2022-03-29',0,2,261),(7868,'admin','2022-03-22 23:14:45',14,'2022-03-22',0,1,57.8),(7869,'admin','2022-03-22 23:14:53',14,'2022-03-22',0,1,57.8);
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `SalesPackage_insert` AFTER INSERT ON `orders` FOR EACH ROW BEGIN
    declare _package_id int;
    declare _total_sold int;
    declare _total_op_sold_with int;
    declare _total_sold_without int;
    declare _average_optional_sold double;

    #retrieves all the data for the update or the insert inside the SalesPackageReport
    set _package_id := (select package_id from orders where order_id = new.order_id);
    set _total_sold := (select count(*) from orders where package_id = _package_id);

    set _total_op_sold_with := (select count(*) from orders join orders_optional_packages oop on orders.order_id = oop.id_order where package_id = _package_id);

    set _total_sold_without := (select count(*)
                                from (select o.order_id from orders o where o.package_id = _package_id) as orders
                                where order_id not in (select oop.id_order from orders_optional_packages oop));


    set _average_optional_sold := CAST(_total_op_sold_with as DOUBLE )/ CAST(_total_sold as DOUBLE );




    #checks if there is already an entry inside the table referring to the current package
    #and updates or insert the needed report
    if (_package_id in (select package_id from sales_package_report)) THEN
        update sales_package_report
        set total_sold        = _total_sold,
            total_op_sold_w  = _total_op_sold_with,
            total_wo_optional = _total_sold_without,
            average_optional  = _average_optional_sold
        where package_id = _package_id;
    else
        insert into sales_package_report (package_id, total_sold, total_op_sold_w, total_wo_optional, average_optional)
        values (_package_id, _total_sold, _total_op_sold_with, _total_sold_without, _average_optional_sold);
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_validity_insert` AFTER INSERT ON `orders` FOR EACH ROW BEGIN
    declare _package_id int;
    declare _validity_id int;
    declare _total int;

    set _package_id := new.package_id;
    set _validity_id := new.validity_period_id;

    set _total := (
        select count(*)
        from orders
        where _package_id = package_id
          and _validity_id = validity_period_id
    );

    if ((_package_id, _validity_id) in
        (select svr.package_id, svr.validity_period_id from sales_validity_report svr))
    then
        update sales_validity_report svr
        set svr.package_id = _package_id,
            svr.total      = _total
        where svr.package_id = _package_id
          and svr.validity_period_id = _validity_id;
    else
        insert into sales_validity_report (package_id, validity_period_id, total)
        values (_package_id, _validity_id, _total);
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_validity_update` AFTER UPDATE ON `orders` FOR EACH ROW BEGIN
    declare _package_id int;
    declare _validity_id int;
    declare _total int;
    declare old_package_id int;
    declare old_validity_id int;
    declare old_total int;

    if (new.validity_period_id is not null) then
        set _package_id := new.package_id;
        set _validity_id := new.validity_period_id;


        set _total := (
            select count(*)
            from orders o
            where _package_id = o.package_id
              and _validity_id = o.validity_period_id
        );


#     update new line
        if ((_package_id, _validity_id) in
            (select svr.package_id, svr.validity_period_id from sales_validity_report svr))
        then
            update sales_validity_report svr
            set svr.package_id = _package_id,
                svr.total      = _total
            where svr.package_id = _package_id
              and svr.validity_period_id = _validity_id;
        else
            insert into sales_validity_report (package_id, validity_period_id, total)
            values (_package_id, _validity_id, _total);
        end if;

    end if;

    if (old.validity_period_id is not null) then
        set old_package_id := old.package_id;
        set old_validity_id := old.validity_period_id;
        set old_total := (
            select count(*)
            from orders o
            where old_package_id = o.package_id
              and old_validity_id = o.validity_period_id
        );
# update old line
        if ((old_package_id, old_validity_id) in
            (select svr.package_id, svr.validity_period_id from sales_validity_report svr))
        then
            update sales_validity_report svr
            set svr.package_id = old_package_id,
                svr.total      = old_total
            where svr.package_id = old_package_id
              and svr.validity_period_id = old_validity_id;
        else
            insert into sales_validity_report (package_id, validity_period_id, total)
            values (old_package_id, old_validity_id, old_total);
        end if;
    end if;

end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `SalesPackage_update` AFTER UPDATE ON `orders` FOR EACH ROW BEGIN
    declare _total_sold int;
    declare _total_op_sold_with int;
    declare _total_sold_without int;
    declare _average_optional_sold double;

    declare old_total_sold int;
    declare old_total_op_sold_with int;
    declare old_total_sold_without int;
    declare old_average_optional_sold double;

    #retrieves all the data for the update or the insert inside the SalesPackageReport

    set _total_sold := (select count(*) from orders where package_id = new.package_id);

    set _total_op_sold_with := (select count(*)
                             from (select o.order_id from orders o where o.package_id = new.package_id) as orders
                             where order_id in (select oop.id_order from orders_optional_packages oop));

    set _total_sold_without := (select count(*)
                                from (select o.order_id from orders o where o.package_id = new.package_id) as orders
                                where order_id not in (select oop.id_order from orders_optional_packages oop));

    if (_total_sold != 0) then
        set _average_optional_sold := CAST(_total_op_sold_with as DOUBLE) / CAST(_total_sold as DOUBLE);
    else
        set _average_optional_sold := 0;
    end if;
    #checks if there is already an entry inside the table referring to the current package
    #and updates or insert the needed report
    if (new.package_id in (select package_id from sales_package_report)) THEN
        update sales_package_report
        set total_sold        = _total_sold,
            total_op_sold_w  = _total_op_sold_with,
            total_wo_optional = _total_sold_without,
            average_optional  = _average_optional_sold
        where package_id = new.package_id;
    else
        insert into sales_package_report (package_id, total_sold, total_op_sold_w, total_wo_optional, average_optional)
        values (old.package_id, _total_sold, _total_op_sold_with, _total_sold_without, _average_optional_sold);
    end if;


    set old_total_sold := (select count(*) from orders where package_id = old.package_id);
    set old_total_op_sold_with := (select count(*)
                                from (select o.order_id from orders o where o.package_id = old.package_id) as orders
                                where order_id in (select oop.id_order from orders_optional_packages oop));
    set old_total_sold_without := (select count(*)
                                   from (select o.order_id from orders o where o.package_id = old.package_id) as orders
                                   where order_id not in (select oop.id_order from orders_optional_packages oop));
    if (_total_sold != 0) then
        set old_average_optional_sold := CAST(old_total_op_sold_with as DOUBLE) / CAST(_total_sold as DOUBLE);
    else
        set old_average_optional_sold := 0;
    end if;
    #checks if there is already an entry inside the table referring to the current package
    #and updates or insert the needed report
    if (old.package_id in (select package_id from sales_package_report)) THEN
        update sales_package_report
        set total_sold        = old_total_sold,
            total_op_sold_w  = old_total_op_sold_with,
            total_wo_optional = old_total_sold_without,
            average_optional  = old_average_optional_sold
        where package_id = old.package_id;
    else
        insert into sales_package_report (package_id, total_sold, total_op_sold_w, total_wo_optional, average_optional)
        values (old.package_id,
                old_total_sold,
                old_total_op_sold_with,
                old_total_sold_without,
                old_average_optional_sold);
    end if;


end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_validity_delete` AFTER DELETE ON `orders` FOR EACH ROW BEGIN
    declare old_package_id int;
    declare old_validity_id int;
    declare old_total int;


    set old_package_id := old.package_id;
    set old_validity_id := old.validity_period_id;

    set old_total := (
        select count(*)
        from orders o
        where old_package_id = o.package_id
          and old_validity_id = o.validity_period_id
    );


    # update old line
    if ((old_package_id, old_validity_id) in
        (select svr.package_id, svr.validity_period_id from sales_validity_report svr))
    then
        update sales_validity_report svr
        set svr.package_id = old_package_id,
            svr.total      = old_total
        where svr.package_id = old_package_id
          and svr.validity_period_id = old_validity_id;
    else
        insert into sales_validity_report (package_id, validity_period_id, total)
        values (old_package_id, old_validity_id, old_total);
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `SalesPackage_delete` AFTER DELETE ON `orders` FOR EACH ROW BEGIN
    declare _total_sold int;
    declare _total_op_sold_with int;
    declare _total_sold_without int;
    declare _average_optional_sold double;

    #retrieves all the data for the update or the insert inside the SalesPackageReport

    set _total_sold := (select count(*) from orders where package_id = old.package_id);

    set _total_op_sold_with := (select count(*)
                             from (select o.order_id from orders o where o.package_id = old.package_id) as orders
                             where order_id in (select oop.id_order from orders_optional_packages oop));

    set _total_sold_without := (select count(*)
                                from (select o.order_id from orders o where o.package_id = old.package_id) as orders
                                where order_id not in (select oop.id_order from orders_optional_packages oop));

    if (_total_sold != 0) then
        set _average_optional_sold := CAST(_total_op_sold_with as DOUBLE) / CAST(_total_sold as DOUBLE);
    else
        set _average_optional_sold := 0;
    end if;
    #checks if there is already an entry inside the table referring to the current package
    #and updates or insert the needed report
    if (old.package_id in (select package_id from sales_package_report)) THEN
        update sales_package_report
        set total_sold        = _total_sold,
            total_op_sold_w  = _total_op_sold_with,
            total_wo_optional = _total_sold_without,
            average_optional  = _average_optional_sold
        where package_id = old.package_id;
    else
        insert into sales_package_report (package_id, total_sold, total_op_sold_w, total_wo_optional, average_optional)
        values (old.package_id, _total_sold, _total_op_sold_with, _total_sold_without, _average_optional_sold);
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `orders_optional_packages`
--

DROP TABLE IF EXISTS `orders_optional_packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders_optional_packages` (
  `id_order` int NOT NULL,
  `id_optional_package` int NOT NULL,
  KEY `orders_optional_packages_orders_order_id_fk` (`id_order`),
  KEY `orders_optional_packages_optional_packages_id_fk` (`id_optional_package`),
  CONSTRAINT `orders_optional_packages_optional_packages_id_fk` FOREIGN KEY (`id_optional_package`) REFERENCES `optional_packages` (`id`) ON DELETE CASCADE,
  CONSTRAINT `orders_optional_packages_orders_order_id_fk` FOREIGN KEY (`id_order`) REFERENCES `orders` (`order_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders_optional_packages`
--

LOCK TABLES `orders_optional_packages` WRITE;
/*!40000 ALTER TABLE `orders_optional_packages` DISABLE KEYS */;
INSERT INTO `orders_optional_packages` VALUES (1565,1),(1566,1),(1567,1),(1573,1),(1574,1),(1575,1),(1577,1),(1577,2),(1577,3),(1582,1),(1587,1),(1587,3),(1587,4),(1587,5),(1587,7),(1591,1),(1592,1),(1596,1),(1597,1),(1609,1),(1610,1),(1598,1),(7517,2),(7517,3),(7517,5),(7517,6),(7517,7),(7517,8),(7518,4),(7518,5),(7518,7),(7518,8),(7520,5),(7520,6),(7520,7),(7520,8),(7521,4),(7521,5),(7521,6),(7521,7),(7521,8),(7522,3),(7522,4),(7522,6),(7522,7),(7522,8),(7524,3),(7524,5),(7524,6),(7524,7),(7524,8),(7525,6),(7525,7),(7525,8),(7526,3),(7526,7),(7526,8),(7527,5),(7527,6),(7527,7),(7527,8),(7529,4),(7529,5),(7529,7),(7529,8),(7530,4),(7530,6),(7530,7),(7530,8),(7534,7),(7534,8),(7535,4),(7535,7),(7535,8),(7537,2),(7537,3),(7537,5),(7537,6),(7537,7),(7537,8),(7543,1),(7543,7),(7543,8),(7545,4),(7545,5),(7545,6),(7545,7),(7545,8),(7546,1),(7546,8),(7547,8),(7549,1),(7549,3),(7549,4),(7549,5),(7549,6),(7549,7),(7549,8),(7551,5),(7551,6),(7551,7),(7551,8),(7552,3),(7552,6),(7552,7),(7552,8),(7555,2),(7555,3),(7555,4),(7555,5),(7555,6),(7555,8),(7556,2),(7556,6),(7556,8),(7557,1),(7557,4),(7557,5),(7557,6),(7557,7),(7557,8),(7558,7),(7558,8),(7559,6),(7559,7),(7559,8),(7560,3),(7560,4),(7560,5),(7560,8),(7562,3),(7562,6),(7562,8),(7564,4),(7564,5),(7564,6),(7564,7),(7564,8),(7565,2),(7565,3),(7565,6),(7565,7),(7565,8),(7566,1),(7566,4),(7566,6),(7566,8),(7567,4),(7567,5),(7567,6),(7567,7),(7567,8),(7569,4),(7569,5),(7569,7),(7569,8),(7570,2),(7570,4),(7570,6),(7570,7),(7570,8),(7571,2),(7571,3),(7571,5),(7571,7),(7571,8),(7577,5),(7577,7),(7577,8),(7579,2),(7579,3),(7579,5),(7579,7),(7579,8),(7580,1),(7580,4),(7580,5),(7580,6),(7580,7),(7580,8),(7581,3),(7581,5),(7581,6),(7581,7),(7581,8),(7587,1),(7587,3),(7587,5),(7587,6),(7587,7),(7587,8),(7590,5),(7590,7),(7590,8),(7592,4),(7592,5),(7592,6),(7592,7),(7592,8),(7593,5),(7593,7),(7593,8),(7596,5),(7596,6),(7596,7),(7596,8),(7597,3),(7597,6),(7597,7),(7597,8),(7598,6),(7598,7),(7598,8),(7599,3),(7599,7),(7599,8),(7600,3),(7600,5),(7600,6),(7600,7),(7600,8),(7602,3),(7602,6),(7602,7),(7602,8),(7603,2),(7603,4),(7603,5),(7603,6),(7603,7),(7603,8),(7604,4),(7604,5),(7604,7),(7604,8),(7606,7),(7606,8),(7608,7),(7608,8),(7612,2),(7612,3),(7612,5),(7612,6),(7612,7),(7612,8),(7614,6),(7614,7),(7614,8),(7615,2),(7615,6),(7615,8),(7618,1),(7618,6),(7618,7),(7618,8),(7619,6),(7619,8),(7620,3),(7620,6),(7620,7),(7620,8),(7624,4),(7624,5),(7624,6),(7624,7),(7624,8),(7628,5),(7628,6),(7628,7),(7628,8),(7631,1),(7631,3),(7631,4),(7631,5),(7631,6),(7631,7),(7631,8),(7632,2),(7632,4),(7632,6),(7632,7),(7632,8),(7633,2),(7633,5),(7633,7),(7633,8),(7639,1),(7639,3),(7639,4),(7639,6),(7639,7),(7639,8),(7643,1),(7643,4),(7643,5),(7643,7),(7643,8),(7646,4),(7646,6),(7646,7),(7646,8),(7654,4),(7654,5),(7654,6),(7654,7),(7654,8),(7656,6),(7656,7),(7656,8),(7657,2),(7657,3),(7657,5),(7657,6),(7657,7),(7657,8),(7658,3),(7658,6),(7658,7),(7658,8),(7661,2),(7661,4),(7661,7),(7661,8),(7665,4),(7665,5),(7665,6),(7665,8),(7669,4),(7669,5),(7669,6),(7669,8),(7671,1),(7671,2),(7671,5),(7671,7),(7671,8),(7675,3),(7675,5),(7675,6),(7675,7),(7675,8),(7676,2),(7676,3),(7676,4),(7676,6),(7676,8),(7678,3),(7678,4),(7678,5),(7678,6),(7678,7),(7678,8),(7680,3),(7680,4),(7680,6),(7680,7),(7680,8),(7681,1),(7681,2),(7681,3),(7681,5),(7681,7),(7681,8),(7683,1),(7683,5),(7683,6),(7683,7),(7683,8),(7684,5),(7684,6),(7684,7),(7684,8),(7687,3),(7687,4),(7687,7),(7687,8),(7689,5),(7689,6),(7689,7),(7689,8),(7691,4),(7691,7),(7691,8),(7692,3),(7692,7),(7692,8),(7694,2),(7694,5),(7694,6),(7694,7),(7694,8),(7695,3),(7695,5),(7695,6),(7695,7),(7695,8),(7696,3),(7696,4),(7696,6),(7696,7),(7696,8),(7699,4),(7699,6),(7699,8),(7701,1),(7701,2),(7701,3),(7701,4),(7701,5),(7701,7),(7701,8),(7702,4),(7702,6),(7702,7),(7702,8),(7705,3),(7705,5),(7705,6),(7705,8),(7708,3),(7708,6),(7708,7),(7708,8),(7709,6),(7709,7),(7709,8),(7710,6),(7710,7),(7710,8),(7712,1),(7712,2),(7712,4),(7712,5),(7712,6),(7712,7),(7712,8),(7714,4),(7714,6),(7714,7),(7714,8),(7715,1),(7715,2),(7715,4),(7715,5),(7715,6),(7715,7),(7715,8),(7716,4),(7716,7),(7716,8),(7717,3),(7717,4),(7717,6),(7717,7),(7717,8),(7719,4),(7719,6),(7719,7),(7719,8),(7721,5),(7721,6),(7721,7),(7721,8),(7724,7),(7724,8),(7726,2),(7726,7),(7726,8),(7729,4),(7729,6),(7729,7),(7729,8),(7730,6),(7730,7),(7730,8),(7731,3),(7731,5),(7731,6),(7731,7),(7731,8),(7732,6),(7732,7),(7732,8),(7733,2),(7733,4),(7733,5),(7733,6),(7733,7),(7733,8),(7735,2),(7735,3),(7735,5),(7735,8),(7737,3),(7737,4),(7737,6),(7737,7),(7737,8),(7738,4),(7738,5),(7738,7),(7738,8),(7739,5),(7739,6),(7739,7),(7739,8),(7742,4),(7742,5),(7742,6),(7742,7),(7742,8),(7743,1),(7743,2),(7743,3),(7743,4),(7743,6),(7743,8),(7747,4),(7747,5),(7747,6),(7747,7),(7747,8),(7748,3),(7748,4),(7748,5),(7748,8),(7749,2),(7749,3),(7749,6),(7749,7),(7749,8),(7750,2),(7750,3),(7750,5),(7750,6),(7750,7),(7750,8),(7752,3),(7752,4),(7752,5),(7752,6),(7752,7),(7752,8),(7754,5),(7754,7),(7754,8),(7755,2),(7755,4),(7755,5),(7755,6),(7755,7),(7755,8),(7757,3),(7757,4),(7757,6),(7757,7),(7757,8),(7758,6),(7758,7),(7758,8),(7761,4),(7761,5),(7761,6),(7761,8),(7762,1),(7762,2),(7762,4),(7762,5),(7762,7),(7762,8),(7764,2),(7764,4),(7764,6),(7764,7),(7764,8),(7766,3),(7766,5),(7766,6),(7766,8),(7767,3),(7767,4),(7767,8),(7768,3),(7768,6),(7768,7),(7768,8),(7769,5),(7769,6),(7769,7),(7769,8),(7773,4),(7773,5),(7773,6),(7773,7),(7773,8),(7774,4),(7774,5),(7774,6),(7774,8),(7775,2),(7775,7),(7775,8),(7777,3),(7777,4),(7777,5),(7777,6),(7777,7),(7777,8),(7779,1),(7779,2),(7779,4),(7779,7),(7779,8),(7781,1),(7781,6),(7781,7),(7781,8),(7782,4),(7782,5),(7782,6),(7782,7),(7782,8),(7786,4),(7786,7),(7786,8),(7787,2),(7787,5),(7787,6),(7787,7),(7787,8),(7790,4),(7790,6),(7790,7),(7790,8),(7794,2),(7794,5),(7794,6),(7794,7),(7794,8),(7795,2),(7795,3),(7795,5),(7795,6),(7795,7),(7795,8),(7797,3),(7797,5),(7797,6),(7797,7),(7797,8),(7801,4),(7801,7),(7801,8),(7802,5),(7802,6),(7802,7),(7802,8),(7803,1),(7803,6),(7803,8),(7804,2),(7804,4),(7804,5),(7804,7),(7804,8),(7806,4),(7806,5),(7806,6),(7806,7),(7806,8),(7807,2),(7807,4),(7807,6),(7807,7),(7807,8),(7813,4),(7813,6),(7813,7),(7813,8),(7814,4),(7814,6),(7814,7),(7814,8),(7815,3),(7815,4),(7815,5),(7815,6),(7815,7),(7815,8),(7816,4),(7816,5),(7816,6),(7816,7),(7816,8),(7817,4),(7817,6),(7817,7),(7817,8),(7819,2),(7819,5),(7819,6),(7819,7),(7819,8),(7820,6),(7820,8),(7821,4),(7821,5),(7821,6),(7821,7),(7821,8),(7823,3),(7823,8),(7824,6),(7824,7),(7824,8),(7826,5),(7826,7),(7826,8),(7827,3),(7827,7),(7827,8),(7828,5),(7828,6),(7828,8),(7829,4),(7829,6),(7829,7),(7829,8),(7830,4),(7830,5),(7830,6),(7830,7),(7830,8),(7831,4),(7831,6),(7831,7),(7831,8),(7832,2),(7832,3),(7832,4),(7832,5),(7832,6),(7832,8),(7835,4),(7835,6),(7835,8),(7837,3),(7837,5),(7837,6),(7837,7),(7837,8),(7838,3),(7838,4),(7838,5),(7838,7),(7838,8),(7840,1),(7840,4),(7840,7),(7840,8),(7845,4),(7845,6),(7845,7),(7845,8),(7846,2),(7846,3),(7846,4),(7846,5),(7846,6),(7846,7),(7846,8),(7847,3),(7847,4),(7847,5),(7847,6),(7847,7),(7847,8),(7850,2),(7850,5),(7850,7),(7850,8),(7851,6),(7851,7),(7851,8),(7853,5),(7853,6),(7853,7),(7853,8),(7854,6),(7854,7),(7854,8),(7858,3),(7858,4),(7858,6),(7858,7),(7858,8),(7859,3),(7859,4),(7859,5),(7859,7),(7859,8),(7862,1),(7862,2),(7862,4),(7862,5),(7862,6),(7862,7),(7862,8),(7868,1),(7869,1);
/*!40000 ALTER TABLE `orders_optional_packages` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_optional_insert` AFTER INSERT ON `orders_optional_packages` FOR EACH ROW BEGIN
    
    if (new.id_optional_package not in (select s.optional_package_id from sales_optional_report s)) then
        insert into sales_optional_report (optional_package_id, score) value (new.id_optional_package, 0);
    end if;

    update sales_optional_report s
    set s.score = (CAST((select count(*)
                         from orders_optional_packages oop
                         where oop.id_optional_package = s.optional_package_id) as DOUBLE) /
                   CAST((select count(*) from orders_optional_packages) as DOUBLE));

end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_optional_update` AFTER UPDATE ON `orders_optional_packages` FOR EACH ROW BEGIN
   if (new.id_optional_package not in (select s.optional_package_id from sales_optional_report s)) then
       insert into sales_optional_report (optional_package_id, score) value (new.id_optional_package, 0);
   end if;

   update sales_optional_report s
   set s.score = (CAST((select count(*)
                        from orders_optional_packages oop
                        where oop.id_optional_package = s.optional_package_id) as DOUBLE) /
                  CAST((select count(*) from orders_optional_packages) as DOUBLE));
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`asus`@`%`*/ /*!50003 TRIGGER `sales_optional_delete` AFTER DELETE ON `orders_optional_packages` FOR EACH ROW BEGIN
    
    
    if ((select count(*) from orders_optional_packages) > 0) then
        update sales_optional_report s
        set s.score =
                (CAST((select count(*)
                       from orders_optional_packages oop
                       where oop.id_optional_package = old.id_optional_package) as DOUBLE)
                    / CAST((select count(*) from orders_optional_packages) as DOUBLE))
        where s.optional_package_id = old.id_optional_package;
        
    else
        delete from sales_optional_report s where s.optional_package_id = old.id_optional_package;
    end if;
end */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `packages`
--

DROP TABLE IF EXISTS `packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `packages` (
  `package_id` int NOT NULL AUTO_INCREMENT,
  `package_name` varchar(255) NOT NULL,
  UNIQUE KEY `packages_id_uindex` (`package_id`),
  UNIQUE KEY `packages_package_name_uindex` (`package_name`)
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `packages`
--

LOCK TABLES `packages` WRITE;
/*!40000 ALTER TABLE `packages` DISABLE KEYS */;
INSERT INTO `packages` VALUES (14,'100 GB'),(11,'Family+'),(15,'Infinity'),(16,'Premium Fibra'),(13,'Red Max'),(12,'Red Pro'),(18,'Shake it easy'),(17,'Shake it fun'),(19,'Simple'),(20,'Simple+');
/*!40000 ALTER TABLE `packages` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `packages_optional_packages`
--

DROP TABLE IF EXISTS `packages_optional_packages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `packages_optional_packages` (
  `id_service_package` int NOT NULL,
  `id_optional_package` int NOT NULL,
  UNIQUE KEY `packages_optional_packages_pk` (`id_service_package`,`id_optional_package`),
  KEY `packages_optional_packages_optional_packages_id_fk` (`id_optional_package`),
  CONSTRAINT `packages_optional_packages_optional_packages_id_fk` FOREIGN KEY (`id_optional_package`) REFERENCES `optional_packages` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `packages_optional_packages`
--

LOCK TABLES `packages_optional_packages` WRITE;
/*!40000 ALTER TABLE `packages_optional_packages` DISABLE KEYS */;
INSERT INTO `packages_optional_packages` VALUES (11,1),(12,1),(14,1),(15,1),(18,1),(33,1),(34,1),(38,1),(42,1),(43,1),(44,1),(45,1),(46,1),(11,2),(12,2),(13,2),(14,2),(17,2),(19,2),(21,2),(38,2),(42,2),(43,2),(46,2),(48,2),(50,2),(51,2),(11,3),(12,3),(14,3),(16,3),(17,3),(48,3),(11,4),(12,4),(14,4),(15,4),(18,4),(49,4),(50,4),(11,5),(12,5),(13,5),(14,5),(15,5),(49,5),(13,6),(15,6),(16,6),(18,6),(19,6),(11,7),(12,7),(13,7),(16,7),(17,7),(18,7),(20,7),(16,8),(17,8),(19,8);
/*!40000 ALTER TABLE `packages_optional_packages` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `packages_services`
--

DROP TABLE IF EXISTS `packages_services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `packages_services` (
  `package_id` int DEFAULT NULL,
  `service_id` int DEFAULT NULL,
  UNIQUE KEY `packages_services_pk` (`package_id`,`service_id`),
  KEY `packages_services_services_service_id_fk` (`service_id`),
  CONSTRAINT `packages_services_packages_package_id_fk` FOREIGN KEY (`package_id`) REFERENCES `packages` (`package_id`),
  CONSTRAINT `packages_services_services_service_id_fk` FOREIGN KEY (`service_id`) REFERENCES `services` (`service_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `packages_services`
--

LOCK TABLES `packages_services` WRITE;
/*!40000 ALTER TABLE `packages_services` DISABLE KEYS */;
INSERT INTO `packages_services` VALUES (11,2),(12,2),(12,4),(13,2),(14,2),(14,3),(14,4),(14,12),(14,14),(15,2),(16,4),(17,2),(17,4),(18,2),(20,2),(20,3);
/*!40000 ALTER TABLE `packages_services` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `roles`
--

DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `roles` (
  `id` int NOT NULL,
  `role` varchar(31) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `roles`
--

LOCK TABLES `roles` WRITE;
/*!40000 ALTER TABLE `roles` DISABLE KEYS */;
INSERT INTO `roles` VALUES (1,'ROLE_USER'),(2,'ROLE_ADMIN');
/*!40000 ALTER TABLE `roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sales_optional_report`
--

DROP TABLE IF EXISTS `sales_optional_report`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sales_optional_report` (
  `optional_package_id` int NOT NULL,
  `score` double NOT NULL,
  PRIMARY KEY (`optional_package_id`),
  UNIQUE KEY `SalesOptionalReport_optional_package_id_uindex` (`optional_package_id`),
  CONSTRAINT `sales_optional_report_optional_packages_id_fk` FOREIGN KEY (`optional_package_id`) REFERENCES `optional_packages` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sales_optional_report`
--

LOCK TABLES `sales_optional_report` WRITE;
/*!40000 ALTER TABLE `sales_optional_report` DISABLE KEYS */;
INSERT INTO `sales_optional_report` VALUES (1,0.05185185185185185),(2,0.05432098765432099),(3,0.08024691358024691),(4,0.11234567901234568),(5,0.12098765432098765),(6,0.16296296296296298),(7,0.1925925925925926),(8,0.22469135802469137);
/*!40000 ALTER TABLE `sales_optional_report` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sales_package_report`
--

DROP TABLE IF EXISTS `sales_package_report`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sales_package_report` (
  `package_id` int DEFAULT NULL,
  `total_sold` int DEFAULT NULL,
  `total_op_sold_w` int DEFAULT NULL,
  `total_wo_optional` int DEFAULT NULL,
  `average_optional` double DEFAULT NULL,
  KEY `package_statistics_packages_package_id_fk` (`package_id`),
  CONSTRAINT `package_statistics_packages_package_id_fk` FOREIGN KEY (`package_id`) REFERENCES `packages` (`package_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sales_package_report`
--

LOCK TABLES `sales_package_report` WRITE;
/*!40000 ALTER TABLE `sales_package_report` DISABLE KEYS */;
INSERT INTO `sales_package_report` VALUES (14,49,27,22,0.5510204081632653),(11,40,79,18,1.975),(15,38,92,16,2.4210526315789473),(16,35,96,12,2.742857142857143),(18,45,102,19,2.2666666666666666),(17,25,62,12,2.48),(20,39,79,22,2.0256410256410255),(13,34,68,18,2),(19,29,56,16,1.9310344827586208),(12,34,86,15,2.5294117647058822);
/*!40000 ALTER TABLE `sales_package_report` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sales_validity_report`
--

DROP TABLE IF EXISTS `sales_validity_report`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sales_validity_report` (
  `package_id` int NOT NULL,
  `validity_period_id` int NOT NULL,
  `total` int DEFAULT NULL,
  PRIMARY KEY (`package_id`,`validity_period_id`),
  KEY `sales_validity_report_validity_periods_id_fk` (`validity_period_id`),
  CONSTRAINT `sales_validity_report_validity_periods_id_fk` FOREIGN KEY (`validity_period_id`) REFERENCES `validity_periods` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `SalesValidityReport_packages_package_id_fk` FOREIGN KEY (`package_id`) REFERENCES `packages` (`package_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sales_validity_report`
--

LOCK TABLES `sales_validity_report` WRITE;
/*!40000 ALTER TABLE `sales_validity_report` DISABLE KEYS */;
INSERT INTO `sales_validity_report` VALUES (11,1,9),(11,2,12),(11,3,19),(12,1,8),(12,2,9),(12,3,17),(13,1,11),(13,2,13),(13,3,10),(14,1,20),(14,2,13),(14,3,16),(15,1,13),(15,2,14),(15,3,11),(16,1,12),(16,2,13),(16,3,10),(17,1,5),(17,2,11),(17,3,9),(18,1,9),(18,2,17),(18,3,19),(19,1,8),(19,2,10),(19,3,11),(20,1,11),(20,2,17),(20,3,11);
/*!40000 ALTER TABLE `sales_validity_report` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `services`
--

DROP TABLE IF EXISTS `services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `services` (
  `service_id` int NOT NULL AUTO_INCREMENT,
  `service_name` varchar(255) DEFAULT NULL,
  `service_details` json DEFAULT NULL,
  PRIMARY KEY (`service_id`),
  UNIQUE KEY `services__service_id_uindex` (`service_id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `services`
--

LOCK TABLES `services` WRITE;
/*!40000 ALTER TABLE `services` DISABLE KEYS */;
INSERT INTO `services` VALUES (2,'Fixed Internet','{\"@type\": \"it.polimi.db2.teleco_app.services.models.packagedetails.FixedInternetDetails\", \"costMonth\": 20, \"gigabytes\": 4000, \"extraGigaBytesFee\": 5}'),(3,'Mobile Phone','{\"sms\": 1000, \"@type\": \"it.polimi.db2.teleco_app.services.models.packagedetails.MobilePhoneDetails\", \"minutes\": 1000, \"costMonth\": 7, \"extraSmsFee\": 0.15, \"extraMinutesFee\": 0.14}'),(4,'Mobile Internet','{\"@type\": \"it.polimi.db2.teleco_app.services.models.packagedetails.MobileInternetDetails\", \"costMonth\": 6, \"gigabytes\": 100, \"extraGigaBytesFee\": 3}'),(12,'Fixed Phone','{\"@type\": \"it.polimi.db2.teleco_app.services.models.packagedetails.FixedPhoneDetails\", \"costMonth\": 5}'),(14,'New Service','{\"@type\": \"it.polimi.db2.teleco_app.services.models.packagedetails.FixedInternetDetails\", \"costMonth\": 4, \"gigabytes\": 5, \"extraGigaBytesFee\": null}');
/*!40000 ALTER TABLE `services` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary view structure for view `user_accumulative_services`
--

DROP TABLE IF EXISTS `user_accumulative_services`;
/*!50001 DROP VIEW IF EXISTS `user_accumulative_services`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `user_accumulative_services` AS SELECT 
 1 AS `user`,
 1 AS `minutes`,
 1 AS `sms`,
 1 AS `gigabytes`,
 1 AS `cost`*/;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `user_roles`
--

DROP TABLE IF EXISTS `user_roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `user_roles` (
  `user_id` varchar(255) NOT NULL,
  `role_id` int NOT NULL,
  UNIQUE KEY `user_roles_pk` (`user_id`,`role_id`),
  KEY `user_roles_roles_id_fk` (`role_id`),
  CONSTRAINT `user_roles_roles_id_fk` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE,
  CONSTRAINT `user_roles_users_username_fk` FOREIGN KEY (`user_id`) REFERENCES `users` (`username`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_roles`
--

LOCK TABLES `user_roles` WRITE;
/*!40000 ALTER TABLE `user_roles` DISABLE KEYS */;
INSERT INTO `user_roles` VALUES ('aaaaaa',1),('ari@',1),('Bubu',1),('do.demartinis@',1),('Elisa',1),('io.maugeri@',1),('lie@',1),('ndra.vidon@',1),('nuovo',1),('o.turini@',1),('Perdibole',1),('Peribole',1),('raffa',1),('raffa_forna',1),('Semocagai',1),('swanhes',1),('troisio@',1),('@admin.amos.baudi@',2),('@admin.cleo.mottini@',2),('@admin.dino.laurora@',2),('@admin.donatello.boccanegra@',2),('@admin.edoardo.revere@',2),('@admin.francesco.defranceschi@',2),('@admin.geremia.bontempo@',2),('@admin.iacopo.biggioggero@',2),('@admin.luci.grip@',2),('@admin.m.manna@',2),('@admin.viviano.sabbatini@',2),('admin',2),('admin4',2),('adminlisa',2),('Elisadmin',2);
/*!40000 ALTER TABLE `user_roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `username` varchar(255) NOT NULL,
  `password` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `surname` varchar(255) DEFAULT NULL,
  `email` varchar(255) NOT NULL,
  `insolvent` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`username`),
  UNIQUE KEY `users_username_uindex` (`username`),
  UNIQUE KEY `users_email_uindex` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES ('@admin.amos.baudi@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Amos','Baudi','amos.baudi@yahoo.it',1),('@admin.cleo.mottini@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Cleo','Mottini','cleo.mottini@gmail.com',0),('@admin.dino.laurora@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Dino','Laurora','dino.laurora@lycos.it',0),('@admin.donatello.boccanegra@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Donatello','Boccanegra','donatello.boccanegra@katamail.it',0),('@admin.edoardo.revere@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Edoardo','Revere','edoardo.revere@tin.it',0),('@admin.francesco.defranceschi@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Francesco','De Franceschi','francesco.defranceschi@gmail.com',0),('@admin.geremia.bontempo@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Geremia','Bontempo','geremia.bontempo@tiscali.it',0),('@admin.iacopo.biggioggero@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Iacopo','Biggioggero','iacopo.biggioggero@tele2.it',0),('@admin.luci.grip@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Lucia','Grippo','luci.grip@yahoo.it',0),('@admin.m.manna@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Medoro','Manna','m.manna@gmail.com',0),('@admin.viviano.sabbatini@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Viviano','Sabbatini','viviano.sabbatini@libero.it',1),('aaaaaa','$2a$10$MbC4PrkRZROyHI5AJmBJueymBquA1limAbbkmHrA/enIOx1zKc5ei','aaaaaa11','aaaaaa','aaa@aaa.com',0),('admin','$2a$10$4gLIxdHqTI1vTo/wlozg9uNM4as7Mdt8JKECyyHasXsaUkvgLdkNG','Admin1','Admin1','aaa1@aaa.com',0),('admin4','$2a$10$0Ak7rX7CO0jVFMjWFZnXSOXPRSYjvo8QrDxqkqGVh4cEkY3HtyZZy','admin4','admin4','aaa4@aaa.com',0),('adminlisa','$2a$10$4/B4vh.3b1zs3lM5x4lRQ.d7efVJmgKTf1oueQrnzuK9oaFnFghry','lisa','lapiga','lisal@gmail.com',0),('ari@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Dante','Marianini','dant.mari@gmail.com',0),('Bubu','$2a$10$sp9hIPnjIPPp1D.9eFvNcu06FAOVXAGEzrtEdjBZO3WDIihrMDJgG','Bibu','Babu','aaa5@aaa.com',0),('do.demartinis@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Valfredo','Demartinis','valfredo.demartinis@tiscali.it',0),('Elisa','$2a$10$VZamsJM9BMwe4YOcrD1DYupjzq2K207vfOFtdxSk7llYSnkJaHL/i','Elisa','Brollo','aaa6@aaa.com',0),('Elisadmin','$2a$10$./eX39v0h4QH9YWN5ypnV.Kx5ca0Qw5G79FX98POf8ycAGmfF0kwq','Elisa2','Brollo','aaa7@aaa.com',0),('io.maugeri@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Maurizio','Maugeri','maurizio.maugeri@virgilio.it',1),('lie@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Maurizio','Glielmi','maur.glie@teletu.it',0),('ndra.vidon@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Alessandra','Vidon','alessandra.vidon@virgilio.it',0),('nuovo','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','nuovo','nuovo','nuovo@nuovo.nuovo',0),('o.turini@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Onofrio','Turini','onofrio.turini@virgilio.it',0),('Perdibole','$2a$10$FjCWAwgVcZHj8ogHoDbgrOWjAavs7IXgbLrqkYwV7Z8ElANxm0Dxu','Perdibole','Perdibole','aaa9@aaa.com',0),('Peribole','$2a$10$unXcA8djPo3zQwJP4.iIYeGBNgw7mv77xys7nCyX6q5EcsQ5Vi4Vq','Antani','Comesefosse','aaa10@aaa.com',0),('raffa','$2a$10$y0l8sUUAKsP8N1dY5okerOiIihiKZ35PgICf5A2.wIm91ttfQye9a','RaffaelloRR','FornasiereRR','aaa11@aaa.com',0),('raffa_forna','$2a$10$3cyPiP5cYknGkWaRraxe1O.0uoupj7nDVK3O72W7KHz.3OLiHAoBi','raffa','Fornasiere','aaa@aaa3.com',0),('Semocagai','$2a$10$3Bg60XBJxhGQF0JOBwb1tu63/1xzlpFZSt0GXg20kRDc6Y8Pk3YKq','Caro','Cogoi','aaa12@aaa.com',0),('swanhes','$2a$10$GXUtVHV4u04C0JRye8KKGOzWjVmTvWeFpB6Gz24CooxTNQxqRHmeS','Riccardp','Burato','riccardo.burato@icloud.com',0),('troisio@','$2a$10$vAfvw4R4lDNI2lQOJqOzGOk7.J7UsIYhF4Q0UCuaWZMF3tOtbx0AW','Luana','Troisio','luana.troisio@hotmail.com',0);
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `validity_period_package`
--

DROP TABLE IF EXISTS `validity_period_package`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `validity_period_package` (
  `packageId` int NOT NULL,
  `validityPeriodId` int NOT NULL,
  PRIMARY KEY (`packageId`,`validityPeriodId`),
  KEY `validity_period_package_validity_periods_id_fk` (`validityPeriodId`),
  CONSTRAINT `validity_period_package_validity_periods_id_fk` FOREIGN KEY (`validityPeriodId`) REFERENCES `validity_periods` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `validity_period_package`
--

LOCK TABLES `validity_period_package` WRITE;
/*!40000 ALTER TABLE `validity_period_package` DISABLE KEYS */;
INSERT INTO `validity_period_package` VALUES (11,1),(12,1),(13,1),(14,1),(15,1),(16,1),(17,1),(18,1),(19,1),(20,1),(11,2),(12,2),(13,2),(14,2),(15,2),(16,2),(17,2),(18,2),(19,2),(20,2),(11,3),(12,3),(13,3),(14,3),(15,3),(16,3),(17,3),(18,3),(19,3),(20,3);
/*!40000 ALTER TABLE `validity_period_package` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `validity_periods`
--

DROP TABLE IF EXISTS `validity_periods`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `validity_periods` (
  `id` int NOT NULL AUTO_INCREMENT,
  `months` int NOT NULL,
  `fee` double DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `validity_periods`
--

LOCK TABLES `validity_periods` WRITE;
/*!40000 ALTER TABLE `validity_periods` DISABLE KEYS */;
INSERT INTO `validity_periods` VALUES (1,5,4),(2,54,54),(3,1,1);
/*!40000 ALTER TABLE `validity_periods` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Final view structure for view `user_accumulative_services`
--

/*!50001 DROP VIEW IF EXISTS `user_accumulative_services`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`asus`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `user_accumulative_services` AS select `partial`.`user` AS `user`,`partial`.`minutes` AS `minutes`,`partial`.`sms` AS `sms`,`partial`.`gigabytes` AS `gigabytes`,(select sum(`o2`.`total_value`) from `orders` `o2` where (`o2`.`user` = `o`.`user`) group by `o2`.`user`) AS `cost` from ((select `o`.`user` AS `user`,sum(json_extract(replace(`s`.`service_details`,'@',''),'$.minutes')) AS `minutes`,sum(json_extract(replace(`s`.`service_details`,'@',''),'$.sms')) AS `sms`,sum(json_extract(replace(`s`.`service_details`,'@',''),'$.gigabytes')) AS `gigabytes` from ((((`packages` `p` join `orders` `o` on((`p`.`package_id` = `o`.`package_id`))) join `packages_services` `ps` on((`o`.`package_id` = `ps`.`package_id`))) join `services` `s` on((`ps`.`service_id` = `s`.`service_id`))) join `activation_schedule` `activation` on((`o`.`order_id` = `activation`.`order_id`))) where ((`activation`.`activation_date` <= curdate()) and (curdate() < `activation`.`deactivation_date`)) group by `o`.`user`) `partial` join `orders` `o` on((`o`.`user` = `partial`.`user`))) group by `partial`.`user` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2022-03-23  1:09:41
